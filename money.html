---
layout: root
title: Money
permalink: /money.html
---

<style>
    #main-container img {
        width: 800px;
        max-width: 100%;
    }

    #main-container td,
    #main-container th {
        padding: 2px;
        padding-left: 4px;
        font-size: 14px;
    }


    #main-container th {
        font-weight: normal;
        text-align: left;
    }

    #main-container td:first-child {
        min-width: 100px;
    }

    table, table * {
        border-color: #ddd;
    }
</style>

<!-- <script src="./Chart.js"></script>
  <script src="./Chart.PieceLabel.js"></script> -->

  <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>

Tracking my personal spending.

<!-- <h2>Annual overview</h2>

<img src="/img/money/2017-category-pie-chart.png" />
<img src="/img/money/2017-monthly-line-chart.png" />

<p>
    I got a job in Shanghai in March, so my accomodation costs have been relatively stable at £485 a month plus bills
    any hotels for travel.
    <br>
    My company provides breakfast, lunch, and dinner, but in October I started getting sick of having rice twice a day
    and started going to
    restaurants in the evening. Because I don't really eat at home "Everyday items" is very low throughout the year.<br>
    My fun budget goes up in August because I started taking Chinese lessons.
</p> -->

<!-- TABLES_START --><h3>2020</h3>
  <style>
    .slicetext {
        font-weight: bold;
    }
  </style>
  <div id="canvas-1882012969" height="600" width="600"></div>
  <script>
  (function(){
  var data = {
    "Eating Out": 893,
    "Everyday Purchases": 2105,
    "Fun": 1055,
    "Donations": 2150,
    "Transport": 494,
    "Accomodation": 13003,
    "Other": 72,
    "Occasional Purchases": 766,
    "Productivity": 106,
    "Exercise": 109
};
  var categoryOrder = [
    "Accomodation",
    "Everyday Purchases",
    "Transport",
    "Eating Out",
    "Fun",
    "Donations",
    "Occasional Purchases",
    "Exercise",
    "Other",
    "Productivity"
];
  var colors = [
    "#4065C5",
    "#CB4728",
    "#F19D39",
    "#449431",
    "#8C1B94",
    "#4497C2",
    "#CC5077",
    "#76A832",
    "#A93A34",
    "#666666",
    "#777777",
    "#777777",
    "#777777",
    "#888888",
    "#999999",
    "#777777",
    "#777777",
    "#777777",
    "#777777"
];

  const info = categoryOrder.map((key, i) => {
    var value = data[key]
    return {
        value,
        key
    }
  })

  var data = [{
    type: "pie",
    values: info.map(i => i.value),
    text: info.map(i => "£" + i.value),
    labels: info.map(i => i.key),
    textinfo: "label+text",
    showtickprefix: "£",
    insidetextorientation: "radial",
    // textposition: "outside",
    automargin: true
  }]
  
  var layout = {
    height: 600,
    width: 600,
    margin: {"t": 20, "b": 20, "l": 20, "r": 20},
    showlegend: false
    }
  
  Plotly.newPlot('canvas-1882012969', data, layout)

//   var pieData = categoryOrder.map((key, i) => {
//       var value = data[key]
//       return {
//           value: value,
//           color : colors[i],
//           label : key,
//           percentage: Math.round((value / 20753) * 100 * 10) / 10
//       }
//   })
//   var ctx = document.getElementById("canvas-1882012969");


//   var myPieChart = new Chart(ctx, {
//       "type": "pie",
//       options: {
//           pieceLabel: {
//               render: function(data){
//                   return data.label + " £" + data.value
//               },
//               fontSize: 10,
//               fontStyle: "bold",
//               fontColor: '#fff',
//               position: 'border'
//           },
//           legend: {
//               display: false,
//           },
//           tooltips: {
//               callbacks: {
//                   label: function(tooltipItem, data){ 
//                       var d = pieData[tooltipItem.index]
                      
//                       return d.label + " £" + d.value + " (" + d.percentage + "%)"
//                   },
//               },
//           },
//           responsive: false
//       },

//       "data": {
//           labels: pieData.map(d => d.label),
//           datasets: [{
//               data: pieData.map(d => d.value),
//               backgroundColor: pieData.map(d => d.color),
//               borderWidth: 0
//           }]
//       }
//   });
})()
  </script>
  <br/><div style="max-width: 100%; overflow: auto"> <table dir="ltr" border="1" cellspacing="0" cellpadding="0"><th>Month</th>
<th>Accomodation</th>
<th>Everyday Purchases</th>
<th>Transport</th>
<th>Eating Out</th>
<th>Fun</th>
<th>Donations</th>
<th>Occasional Purchases</th>
<th>Exercise</th>
<th>Other</th>
<th>Productivity</th>
<th>Total</th>
<tr>
<td>Jan 2020</td><td>&pound;1,291</td><td>&pound;217</td><td>&pound;69</td><td>&pound;214</td><td>&pound;164</td><td>&pound;100</td><td>&pound;116</td><td>&pound;66</td><td>&pound;3</td><td>&pound;8</td><td>&pound;2,249</td></tr>
<tr>
<td>Feb 2020</td><td>&pound;1,300</td><td>&pound;122</td><td>&pound;149</td><td>&pound;197</td><td>&pound;159</td><td>&pound;100</td><td>&pound;51</td><td>&pound;14</td><td>&pound;3</td><td>&pound;8</td><td>&pound;2,104</td></tr>
<tr>
<td>Mar 2020</td><td>&pound;1,175</td><td>&pound;185</td><td>&pound;99</td><td>&pound;88</td><td>&pound;159</td><td>&pound;100</td><td>&pound;51</td><td>&pound;4</td><td>&pound;3</td><td>&pound;8</td><td>&pound;1,873</td></tr>
<tr>
<td>Apr 2020</td><td>&pound;1,174</td><td>&pound;164</td><td>&pound;24</td><td>&pound;0</td><td>&pound;58</td><td>&pound;150</td><td>&pound;51</td><td>&pound;4</td><td>&pound;3</td><td>&pound;8</td><td>&pound;1,638</td></tr>
<tr>
<td>May 2020</td><td>&pound;1,152</td><td>&pound;219</td><td>&pound;24</td><td>&pound;0</td><td>&pound;39</td><td>&pound;100</td><td>&pound;45</td><td>&pound;4</td><td>&pound;3</td><td>&pound;8</td><td>&pound;1,594</td></tr>
<tr>
<td>Jun 2020</td><td>&pound;1,129</td><td>&pound;241</td><td>&pound;24</td><td>&pound;0</td><td>&pound;49</td><td>&pound;229</td><td>&pound;149</td><td>&pound;4</td><td>&pound;37</td><td>&pound;9</td><td>&pound;1,870</td></tr>
<tr>
<td>Jul 2020</td><td>&pound;960</td><td>&pound;198</td><td>&pound;24</td><td>&pound;36</td><td>&pound;79</td><td>&pound;229</td><td>&pound;24</td><td>&pound;4</td><td>&pound;3</td><td>&pound;9</td><td>&pound;1,566</td></tr>
<tr>
<td>Aug 2020</td><td>&pound;960</td><td>&pound;175</td><td>&pound;38</td><td>&pound;119</td><td>&pound;40</td><td>&pound;229</td><td>&pound;33</td><td>&pound;4</td><td>&pound;3</td><td>&pound;9</td><td>&pound;1,610</td></tr>
<tr>
<td>Sep 2020</td><td>&pound;982</td><td>&pound;145</td><td>&pound;5</td><td>&pound;142</td><td>&pound;96</td><td>&pound;229</td><td>&pound;96</td><td>&pound;4</td><td>&pound;3</td><td>&pound;9</td><td>&pound;1,710</td></tr>
<tr>
<td>Oct 2020</td><td>&pound;960</td><td>&pound;132</td><td>&pound;20</td><td>&pound;91</td><td>&pound;43</td><td>&pound;229</td><td>&pound;50</td><td>&pound;4</td><td>&pound;3</td><td>&pound;9</td><td>&pound;1,540</td></tr>
<tr>
<td>Nov 2020</td><td>&pound;960</td><td>&pound;143</td><td>&pound;20</td><td>&pound;3</td><td>&pound;34</td><td>&pound;229</td><td>&pound;50</td><td>&pound;0</td><td>&pound;3</td><td>&pound;9</td><td>&pound;1,450</td></tr>
<tr>
<td>Dec 2020</td><td>&pound;960</td><td>&pound;162</td><td>&pound;0</td><td>&pound;3</td><td>&pound;133</td><td>&pound;229</td><td>&pound;50</td><td>&pound;0</td><td>&pound;3</td><td>&pound;9</td><td>&pound;1,548</td></tr>
<tr>
<td>2020</td><td>&pound;13,003</td><td>&pound;2,105</td><td>&pound;494</td><td>&pound;893</td><td>&pound;1,055</td><td>&pound;2,150</td><td>&pound;766</td><td>&pound;109</td><td>&pound;72</td><td>&pound;106</td><td>&pound;20,753</td></tr>
</table></div><h3>2019</h3>
  <style>
    .slicetext {
        font-weight: bold;
    }
  </style>
  <div id="canvas-4865420496" height="600" width="600"></div>
  <script>
  (function(){
  var data = {
    "Eating Out": 1097,
    "Everyday Purchases": 2703,
    "Fun": 1580,
    "Donations": 466,
    "Transport": 967,
    "Accomodation": 12561,
    "Other": 373,
    "Occasional Purchases": 706,
    "Productivity": 127,
    "Exercise": 839
};
  var categoryOrder = [
    "Accomodation",
    "Everyday Purchases",
    "Transport",
    "Eating Out",
    "Fun",
    "Donations",
    "Occasional Purchases",
    "Exercise",
    "Other",
    "Productivity"
];
  var colors = [
    "#4065C5",
    "#CB4728",
    "#F19D39",
    "#449431",
    "#8C1B94",
    "#4497C2",
    "#CC5077",
    "#76A832",
    "#A93A34",
    "#666666",
    "#777777",
    "#777777",
    "#777777",
    "#888888",
    "#999999",
    "#777777",
    "#777777",
    "#777777",
    "#777777"
];

  const info = categoryOrder.map((key, i) => {
    var value = data[key]
    return {
        value,
        key
    }
  })

  var data = [{
    type: "pie",
    values: info.map(i => i.value),
    text: info.map(i => "£" + i.value),
    labels: info.map(i => i.key),
    textinfo: "label+text",
    showtickprefix: "£",
    insidetextorientation: "radial",
    // textposition: "outside",
    automargin: true
  }]
  
  var layout = {
    height: 600,
    width: 600,
    margin: {"t": 20, "b": 20, "l": 20, "r": 20},
    showlegend: false
    }
  
  Plotly.newPlot('canvas-4865420496', data, layout)

//   var pieData = categoryOrder.map((key, i) => {
//       var value = data[key]
//       return {
//           value: value,
//           color : colors[i],
//           label : key,
//           percentage: Math.round((value / 21419) * 100 * 10) / 10
//       }
//   })
//   var ctx = document.getElementById("canvas-4865420496");


//   var myPieChart = new Chart(ctx, {
//       "type": "pie",
//       options: {
//           pieceLabel: {
//               render: function(data){
//                   return data.label + " £" + data.value
//               },
//               fontSize: 10,
//               fontStyle: "bold",
//               fontColor: '#fff',
//               position: 'border'
//           },
//           legend: {
//               display: false,
//           },
//           tooltips: {
//               callbacks: {
//                   label: function(tooltipItem, data){ 
//                       var d = pieData[tooltipItem.index]
                      
//                       return d.label + " £" + d.value + " (" + d.percentage + "%)"
//                   },
//               },
//           },
//           responsive: false
//       },

//       "data": {
//           labels: pieData.map(d => d.label),
//           datasets: [{
//               data: pieData.map(d => d.value),
//               backgroundColor: pieData.map(d => d.color),
//               borderWidth: 0
//           }]
//       }
//   });
})()
  </script>
  <br/><div style="max-width: 100%; overflow: auto"> <table dir="ltr" border="1" cellspacing="0" cellpadding="0"><th>Month</th>
<th>Accomodation</th>
<th>Everyday Purchases</th>
<th>Transport</th>
<th>Eating Out</th>
<th>Fun</th>
<th>Donations</th>
<th>Occasional Purchases</th>
<th>Exercise</th>
<th>Other</th>
<th>Productivity</th>
<th>Total</th>
<tr>
<td>Jan 2019</td><td>&pound;794</td><td>&pound;177</td><td>&pound;19</td><td>&pound;125</td><td>&pound;57</td><td>&pound;109</td><td>&pound;70</td><td>&pound;97</td><td>&pound;33</td><td>&pound;8</td><td>&pound;1,489</td></tr>
<tr>
<td>Feb 2019</td><td>&pound;794</td><td>&pound;199</td><td>&pound;19</td><td>&pound;89</td><td>&pound;47</td><td>&pound;109</td><td>&pound;32</td><td>&pound;79</td><td>&pound;30</td><td>&pound;8</td><td>&pound;1,407</td></tr>
<tr>
<td>Mar 2019</td><td>&pound;780</td><td>&pound;210</td><td>&pound;46</td><td>&pound;100</td><td>&pound;196</td><td>&pound;109</td><td>&pound;10</td><td>&pound;60</td><td>&pound;22</td><td>&pound;8</td><td>&pound;1,541</td></tr>
<tr>
<td>Apr 2019</td><td>&pound;780</td><td>&pound;201</td><td>&pound;27</td><td>&pound;135</td><td>&pound;133</td><td>&pound;9</td><td>&pound;10</td><td>&pound;46</td><td>&pound;95</td><td>&pound;8</td><td>&pound;1,442</td></tr>
<tr>
<td>May 2019</td><td>&pound;780</td><td>&pound;164</td><td>&pound;35</td><td>&pound;161</td><td>&pound;155</td><td>&pound;9</td><td>&pound;17</td><td>&pound;63</td><td>&pound;47</td><td>&pound;8</td><td>&pound;1,439</td></tr>
<tr>
<td>Jun 2019</td><td>&pound;1,531</td><td>&pound;254</td><td>&pound;42</td><td>&pound;56</td><td>&pound;119</td><td>&pound;9</td><td>&pound;75</td><td>&pound;48</td><td>&pound;22</td><td>&pound;8</td><td>&pound;2,164</td></tr>
<tr>
<td>Jul 2019</td><td>&pound;1,166</td><td>&pound;288</td><td>&pound;67</td><td>&pound;51</td><td>&pound;88</td><td>&pound;9</td><td>&pound;119</td><td>&pound;58</td><td>&pound;22</td><td>&pound;16</td><td>&pound;1,884</td></tr>
<tr>
<td>Aug 2019</td><td>&pound;1,149</td><td>&pound;234</td><td>&pound;198</td><td>&pound;25</td><td>&pound;80</td><td>&pound;1</td><td>&pound;61</td><td>&pound;43</td><td>&pound;36</td><td>&pound;12</td><td>&pound;1,840</td></tr>
<tr>
<td>Sep 2019</td><td>&pound;1,149</td><td>&pound;259</td><td>&pound;74</td><td>&pound;91</td><td>&pound;325</td><td>&pound;0</td><td>&pound;69</td><td>&pound;51</td><td>&pound;20</td><td>&pound;10</td><td>&pound;2,048</td></tr>
<tr>
<td>Oct 2019</td><td>&pound;1,182</td><td>&pound;240</td><td>&pound;104</td><td>&pound;73</td><td>&pound;152</td><td>&pound;0</td><td>&pound;61</td><td>&pound;112</td><td>&pound;20</td><td>&pound;10</td><td>&pound;1,954</td></tr>
<tr>
<td>Nov 2019</td><td>&pound;1,273</td><td>&pound;201</td><td>&pound;122</td><td>&pound;118</td><td>&pound;167</td><td>&pound;0</td><td>&pound;66</td><td>&pound;100</td><td>&pound;23</td><td>&pound;20</td><td>&pound;2,091</td></tr>
<tr>
<td>Dec 2019</td><td>&pound;1,182</td><td>&pound;276</td><td>&pound;216</td><td>&pound;74</td><td>&pound;63</td><td>&pound;100</td><td>&pound;115</td><td>&pound;80</td><td>&pound;3</td><td>&pound;10</td><td>&pound;2,121</td></tr>
<tr>
<td>2019</td><td>&pound;12,561</td><td>&pound;2,703</td><td>&pound;967</td><td>&pound;1,097</td><td>&pound;1,580</td><td>&pound;466</td><td>&pound;706</td><td>&pound;839</td><td>&pound;373</td><td>&pound;127</td><td>&pound;21,419</td></tr>
</table></div><h3>2018</h3>
  <style>
    .slicetext {
        font-weight: bold;
    }
  </style>
  <div id="canvas-2848597785" height="600" width="600"></div>
  <script>
  (function(){
  var data = {
    "Eating Out": 2317,
    "Everyday Purchases": 1992,
    "Fun": 821,
    "Donations": 354,
    "Transport": 1005,
    "Accomodation": 7589,
    "Other": 478,
    "Occasional Purchases": 582,
    "Productivity": 130,
    "Exercise": 863
};
  var categoryOrder = [
    "Accomodation",
    "Everyday Purchases",
    "Transport",
    "Eating Out",
    "Fun",
    "Donations",
    "Occasional Purchases",
    "Exercise",
    "Other",
    "Productivity"
];
  var colors = [
    "#4065C5",
    "#CB4728",
    "#F19D39",
    "#449431",
    "#8C1B94",
    "#4497C2",
    "#CC5077",
    "#76A832",
    "#A93A34",
    "#666666",
    "#777777",
    "#777777",
    "#777777",
    "#888888",
    "#999999",
    "#777777",
    "#777777",
    "#777777",
    "#777777"
];

  const info = categoryOrder.map((key, i) => {
    var value = data[key]
    return {
        value,
        key
    }
  })

  var data = [{
    type: "pie",
    values: info.map(i => i.value),
    text: info.map(i => "£" + i.value),
    labels: info.map(i => i.key),
    textinfo: "label+text",
    showtickprefix: "£",
    insidetextorientation: "radial",
    // textposition: "outside",
    automargin: true
  }]
  
  var layout = {
    height: 600,
    width: 600,
    margin: {"t": 20, "b": 20, "l": 20, "r": 20},
    showlegend: false
    }
  
  Plotly.newPlot('canvas-2848597785', data, layout)

//   var pieData = categoryOrder.map((key, i) => {
//       var value = data[key]
//       return {
//           value: value,
//           color : colors[i],
//           label : key,
//           percentage: Math.round((value / 16130) * 100 * 10) / 10
//       }
//   })
//   var ctx = document.getElementById("canvas-2848597785");


//   var myPieChart = new Chart(ctx, {
//       "type": "pie",
//       options: {
//           pieceLabel: {
//               render: function(data){
//                   return data.label + " £" + data.value
//               },
//               fontSize: 10,
//               fontStyle: "bold",
//               fontColor: '#fff',
//               position: 'border'
//           },
//           legend: {
//               display: false,
//           },
//           tooltips: {
//               callbacks: {
//                   label: function(tooltipItem, data){ 
//                       var d = pieData[tooltipItem.index]
                      
//                       return d.label + " £" + d.value + " (" + d.percentage + "%)"
//                   },
//               },
//           },
//           responsive: false
//       },

//       "data": {
//           labels: pieData.map(d => d.label),
//           datasets: [{
//               data: pieData.map(d => d.value),
//               backgroundColor: pieData.map(d => d.color),
//               borderWidth: 0
//           }]
//       }
//   });
})()
  </script>
  <br/><div style="max-width: 100%; overflow: auto"> <table dir="ltr" border="1" cellspacing="0" cellpadding="0"><th>Month</th>
<th>Accomodation</th>
<th>Everyday Purchases</th>
<th>Transport</th>
<th>Eating Out</th>
<th>Fun</th>
<th>Donations</th>
<th>Occasional Purchases</th>
<th>Exercise</th>
<th>Other</th>
<th>Productivity</th>
<th>Total</th>
<tr>
<td>Jan 2018</td><td>&pound;557</td><td>&pound;81</td><td>&pound;77</td><td>&pound;322</td><td>&pound;272</td><td>&pound;1</td><td>&pound;0</td><td>&pound;70</td><td>&pound;47</td><td>&pound;13</td><td>&pound;1,440</td></tr>
<tr>
<td>Feb 2018</td><td>&pound;528</td><td>&pound;89</td><td>&pound;5</td><td>&pound;254</td><td>&pound;43</td><td>&pound;1</td><td>&pound;0</td><td>&pound;70</td><td>&pound;22</td><td>&pound;13</td><td>&pound;1,026</td></tr>
<tr>
<td>Mar 2018</td><td>&pound;518</td><td>&pound;52</td><td>&pound;10</td><td>&pound;369</td><td>&pound;52</td><td>&pound;1</td><td>&pound;0</td><td>&pound;70</td><td>&pound;22</td><td>&pound;8</td><td>&pound;1,101</td></tr>
<tr>
<td>Apr 2018</td><td>&pound;74</td><td>&pound;36</td><td>&pound;342</td><td>&pound;160</td><td>&pound;45</td><td>&pound;1</td><td>&pound;10</td><td>&pound;84</td><td>&pound;130</td><td>&pound;8</td><td>&pound;890</td></tr>
<tr>
<td>May 2018</td><td>&pound;651</td><td>&pound;186</td><td>&pound;223</td><td>&pound;209</td><td>&pound;75</td><td>&pound;1</td><td>&pound;293</td><td>&pound;32</td><td>&pound;43</td><td>&pound;8</td><td>&pound;1,720</td></tr>
<tr>
<td>Jun 2018</td><td>&pound;716</td><td>&pound;233</td><td>&pound;93</td><td>&pound;201</td><td>&pound;54</td><td>&pound;1</td><td>&pound;34</td><td>&pound;62</td><td>&pound;34</td><td>&pound;8</td><td>&pound;1,436</td></tr>
<tr>
<td>Jul 2018</td><td>&pound;691</td><td>&pound;252</td><td>&pound;8</td><td>&pound;156</td><td>&pound;54</td><td>&pound;1</td><td>&pound;0</td><td>&pound;133</td><td>&pound;23</td><td>&pound;19</td><td>&pound;1,337</td></tr>
<tr>
<td>Aug 2018</td><td>&pound;676</td><td>&pound;193</td><td>&pound;43</td><td>&pound;183</td><td>&pound;43</td><td>&pound;9</td><td>&pound;4</td><td>&pound;125</td><td>&pound;21</td><td>&pound;20</td><td>&pound;1,318</td></tr>
<tr>
<td>Sep 2018</td><td>&pound;794</td><td>&pound;237</td><td>&pound;36</td><td>&pound;120</td><td>&pound;18</td><td>&pound;9</td><td>&pound;115</td><td>&pound;46</td><td>&pound;29</td><td>&pound;8</td><td>&pound;1,412</td></tr>
<tr>
<td>Oct 2018</td><td>&pound;794</td><td>&pound;310</td><td>&pound;23</td><td>&pound;119</td><td>&pound;33</td><td>&pound;109</td><td>&pound;47</td><td>&pound;68</td><td>&pound;22</td><td>&pound;8</td><td>&pound;1,532</td></tr>
<tr>
<td>Nov 2018</td><td>&pound;794</td><td>&pound;133</td><td>&pound;28</td><td>&pound;134</td><td>&pound;38</td><td>&pound;109</td><td>&pound;79</td><td>&pound;46</td><td>&pound;22</td><td>&pound;8</td><td>&pound;1,390</td></tr>
<tr>
<td>Dec 2018</td><td>&pound;794</td><td>&pound;192</td><td>&pound;120</td><td>&pound;89</td><td>&pound;94</td><td>&pound;109</td><td>&pound;0</td><td>&pound;58</td><td>&pound;65</td><td>&pound;9</td><td>&pound;1,530</td></tr>
<tr>
<td>2018</td><td>&pound;7,589</td><td>&pound;1,992</td><td>&pound;1,005</td><td>&pound;2,317</td><td>&pound;821</td><td>&pound;354</td><td>&pound;582</td><td>&pound;863</td><td>&pound;478</td><td>&pound;130</td><td>&pound;16,130</td></tr>
</table></div><h3>2017</h3>
  <style>
    .slicetext {
        font-weight: bold;
    }
  </style>
  <div id="canvas-6818491942" height="600" width="600"></div>
  <script>
  (function(){
  var data = {
    "Eating Out": 2554,
    "Everyday Purchases": 1169,
    "Fun": 1458,
    "Donations": 1172,
    "Transport": 4706,
    "Accomodation": 6426,
    "Other": 633,
    "Occasional Purchases": 369,
    "Productivity": 414,
    "Exercise": 365
};
  var categoryOrder = [
    "Accomodation",
    "Everyday Purchases",
    "Transport",
    "Eating Out",
    "Fun",
    "Donations",
    "Occasional Purchases",
    "Exercise",
    "Other",
    "Productivity"
];
  var colors = [
    "#4065C5",
    "#CB4728",
    "#F19D39",
    "#449431",
    "#8C1B94",
    "#4497C2",
    "#CC5077",
    "#76A832",
    "#A93A34",
    "#666666",
    "#777777",
    "#777777",
    "#777777",
    "#888888",
    "#999999",
    "#777777",
    "#777777",
    "#777777",
    "#777777"
];

  const info = categoryOrder.map((key, i) => {
    var value = data[key]
    return {
        value,
        key
    }
  })

  var data = [{
    type: "pie",
    values: info.map(i => i.value),
    text: info.map(i => "£" + i.value),
    labels: info.map(i => i.key),
    textinfo: "label+text",
    showtickprefix: "£",
    insidetextorientation: "radial",
    // textposition: "outside",
    automargin: true
  }]
  
  var layout = {
    height: 600,
    width: 600,
    margin: {"t": 20, "b": 20, "l": 20, "r": 20},
    showlegend: false
    }
  
  Plotly.newPlot('canvas-6818491942', data, layout)

//   var pieData = categoryOrder.map((key, i) => {
//       var value = data[key]
//       return {
//           value: value,
//           color : colors[i],
//           label : key,
//           percentage: Math.round((value / 19266) * 100 * 10) / 10
//       }
//   })
//   var ctx = document.getElementById("canvas-6818491942");


//   var myPieChart = new Chart(ctx, {
//       "type": "pie",
//       options: {
//           pieceLabel: {
//               render: function(data){
//                   return data.label + " £" + data.value
//               },
//               fontSize: 10,
//               fontStyle: "bold",
//               fontColor: '#fff',
//               position: 'border'
//           },
//           legend: {
//               display: false,
//           },
//           tooltips: {
//               callbacks: {
//                   label: function(tooltipItem, data){ 
//                       var d = pieData[tooltipItem.index]
                      
//                       return d.label + " £" + d.value + " (" + d.percentage + "%)"
//                   },
//               },
//           },
//           responsive: false
//       },

//       "data": {
//           labels: pieData.map(d => d.label),
//           datasets: [{
//               data: pieData.map(d => d.value),
//               backgroundColor: pieData.map(d => d.color),
//               borderWidth: 0
//           }]
//       }
//   });
})()
  </script>
  <br/><div style="max-width: 100%; overflow: auto"> <table dir="ltr" border="1" cellspacing="0" cellpadding="0"><th>Month</th>
<th>Accomodation</th>
<th>Everyday Purchases</th>
<th>Transport</th>
<th>Eating Out</th>
<th>Fun</th>
<th>Donations</th>
<th>Occasional Purchases</th>
<th>Exercise</th>
<th>Other</th>
<th>Productivity</th>
<th>Total</th>
<tr>
<td>Jan 2017</td><td>&pound;279</td><td>&pound;136</td><td>&pound;293</td><td>&pound;164</td><td>&pound;78</td><td>&pound;43</td><td>&pound;22</td><td>&pound;25</td><td>&pound;65</td><td>&pound;122</td><td>&pound;1,226</td></tr>
<tr>
<td>Feb 2017</td><td>&pound;407</td><td>&pound;75</td><td>&pound;973</td><td>&pound;264</td><td>&pound;145</td><td>&pound;42</td><td>&pound;22</td><td>&pound;55</td><td>&pound;99</td><td>&pound;77</td><td>&pound;2,159</td></tr>
<tr>
<td>Mar 2017</td><td>&pound;522</td><td>&pound;123</td><td>&pound;428</td><td>&pound;220</td><td>&pound;53</td><td>&pound;42</td><td>&pound;73</td><td>&pound;47</td><td>&pound;70</td><td>&pound;16</td><td>&pound;1,593</td></tr>
<tr>
<td>Apr 2017</td><td>&pound;601</td><td>&pound;88</td><td>&pound;41</td><td>&pound;162</td><td>&pound;52</td><td>&pound;121</td><td>&pound;0</td><td>&pound;46</td><td>&pound;125</td><td>&pound;43</td><td>&pound;1,279</td></tr>
<tr>
<td>May 2017</td><td>&pound;522</td><td>&pound;51</td><td>&pound;36</td><td>&pound;164</td><td>&pound;123</td><td>&pound;117</td><td>&pound;6</td><td>&pound;18</td><td>&pound;40</td><td>&pound;24</td><td>&pound;1,100</td></tr>
<tr>
<td>Jun 2017</td><td>&pound;509</td><td>&pound;73</td><td>&pound;800</td><td>&pound;107</td><td>&pound;49</td><td>&pound;119</td><td>&pound;114</td><td>&pound;7</td><td>&pound;89</td><td>&pound;25</td><td>&pound;1,892</td></tr>
<tr>
<td>Jul 2017</td><td>&pound;509</td><td>&pound;177</td><td>&pound;870</td><td>&pound;203</td><td>&pound;167</td><td>&pound;116</td><td>&pound;63</td><td>&pound;3</td><td>&pound;29</td><td>&pound;16</td><td>&pound;2,152</td></tr>
<tr>
<td>Aug 2017</td><td>&pound;513</td><td>&pound;97</td><td>&pound;58</td><td>&pound;162</td><td>&pound;181</td><td>&pound;118</td><td>&pound;0</td><td>&pound;3</td><td>&pound;24</td><td>&pound;16</td><td>&pound;1,171</td></tr>
<tr>
<td>Sep 2017</td><td>&pound;541</td><td>&pound;114</td><td>&pound;48</td><td>&pound;177</td><td>&pound;240</td><td>&pound;112</td><td>&pound;0</td><td>&pound;5</td><td>&pound;24</td><td>&pound;16</td><td>&pound;1,278</td></tr>
<tr>
<td>Oct 2017</td><td>&pound;765</td><td>&pound;108</td><td>&pound;874</td><td>&pound;261</td><td>&pound;195</td><td>&pound;114</td><td>&pound;27</td><td>&pound;10</td><td>&pound;24</td><td>&pound;16</td><td>&pound;2,394</td></tr>
<tr>
<td>Nov 2017</td><td>&pound;727</td><td>&pound;60</td><td>&pound;221</td><td>&pound;307</td><td>&pound;113</td><td>&pound;115</td><td>&pound;0</td><td>&pound;75</td><td>&pound;24</td><td>&pound;16</td><td>&pound;1,658</td></tr>
<tr>
<td>Dec 2017</td><td>&pound;531</td><td>&pound;67</td><td>&pound;64</td><td>&pound;365</td><td>&pound;62</td><td>&pound;114</td><td>&pound;42</td><td>&pound;70</td><td>&pound;24</td><td>&pound;26</td><td>&pound;1,364</td></tr>
<tr>
<td>2017</td><td>&pound;6,426</td><td>&pound;1,169</td><td>&pound;4,706</td><td>&pound;2,554</td><td>&pound;1,458</td><td>&pound;1,172</td><td>&pound;369</td><td>&pound;365</td><td>&pound;633</td><td>&pound;414</td><td>&pound;19,266</td></tr>
</table></div><!-- TABLES_END -->

<h2>Income</h2>

<p>
    These figures should be roughly correct, but I'm still trying to improve the data. Investment returns are averaged across the entire period of the investment.
    <br/>
    I'm including Corporation Tax as part of my gross income to make the income more comparable to employment income. I might change this in the future.
</p>

<img src="/img/money/income.png" />

<h2>Donations</h2>

I used to include donations in my personal spending, but I've taken that out now. I'll probably start listing them separately at some point.

<h2>Bookkeeping</h2>
<p>
    I keep track of things in a plain text file on my phone that looks something like this:
</p>

<pre>
--- january 2018
use rmb
50o   starbucks
20e
9.99gbp monthly spotify
</pre>

<p>
    This means that in January 2018 I spent 50rmb eating out, spent 20rmb on everyday items (basically means
    supermarket), and will spend
    9.99gbp a month on Spotify (categorized as "Fun").
</p>
<p>
    Using a plaintext file makes it super easy to enter new items.
    Much simpler than clicking "New", entering a value, selecting a currency, entering category, ....
</p>
<p>
    I then have a Node script that takes the text file and generates CSV report. Email me if you're interested in it.
</p>

<h2>Categories</h2>
<p>
    I have the following main categories, with some examples of what they contain:
</p>
<ul>
    <li>Accomodation: rent, hotels, AirBnbs, bills</li>
    <li>Transportation: flights, metro tickets, trains, ferries, taxis</li>
    <li>Eating out: restaurants, takeaways, Starbucks, bakeries, any food that is meant to be eaten straight away</li>
    <li>Fun: Chinese lessons, books, theme parks, phone</li>
    <li>Productivity: office rental, Github, domains, backup harddrive, monitor</li>
    <li>Occasional Purchaes: clothes, vaccinations, bed sheets</li>
    <li>Everyday purchases: supermarket items, phone credit, VPN, laundry</li>
    <li>Exercise: gym, swimming, badminton rackets</li>
    <li>Donations: regular donations, leaving leftover currency at the airport</li>
    <li>Other: travel insurance, consular fees</li>
</ul>

<p>
    I also have deeper levels of categories like "Everyday Purchases>Haircut" and "Accomodation>Bills>Gas".
</p>

<p>
    For some items I book the cost over several months or years. For example, my phone cost £654 but instead of booking
    it as a one-off I depreciate it over 3 years, and book an expense of £18.17 a month.<br>
    What should be split over several months? One criterium is, could I could recover a meaningful percentage of the
    purchase price
    if I sold the item? Or, is the item meant to be consumed over a longer period of time (e.g. gym membership, Chinese
    lessons)?
</p>

<p>
    Tracking productivity expenses is a bit tricky. Most of my travel expenses in 2017 were related to travelling to
    conferences.
    So that could also be tracked as productivity.<br>
    You can also see that unlike in October the travel in June and July did not increase my accomodation
    costs, because the conferences paid for it.
    <br>
    Any items that either my own company or my current employer pays for also won't be tracked here.
</p>