var maxCommentLength=700;var questions={};var questions_new=[];function registerQuestion(a,b){questions[a]=b;b.questionDiv=$("#q"+a);$(b.heading).mouseenter(function(){$(b.heading+" .question-title-links").show()});$(b.heading).mouseleave(function(){if(!$(b.heading+" .question-title-links").data("always_show")){$(b.heading+" .question-title-links").hide()}});if(b.type=="Matchup"){questions_new[a]=new MatchupQuestion(b)}if(b.type=="TimePoint"){questions_new[a]=new TimePointQuestion(b)}if(b.type=="ClozeText"){$(b.gap_options_box).html("");for(gapSelector in b.solutions){solution=b.solutions[gapSelector];solutionDivId=getSolutionDivId(gapSelector);$(b.gap_options_box).append("<div id='"+solutionDivId+"' class='cloze-text-solution'>"+solution+"</div>");$("#"+solutionDivId).data("question_num",a)}$(b.gap_options_box).css("padding-bottom","10px;");questions[a]["checkedbefore"]=false;$(".q"+a+"-gap").droppable({drop:clozeTextSolutionDropped,hoverClass:"gap-hover"})}if(b.type=="TermQuestion"){questions_new[a]=new TermQuestion(b)}b.title=$(b.heading+" h2").html();b.num=a;b.link="#q"+b.datastore_id}function initQuiz(){setupClozeTexts();$(".matchup-draggable").draggable({revert:true,opacity:0.5,helper:"clone"});for(var b=0;b<$(".question").length;b++){var a=questions_new[b+1];if(a==undefined){continue}a.runPostRenderUpdate()}limitTextareaLength($("#comment-box"),$("#comment-length-message"),maxCommentLength,maxCommentLength-200,"comment")}function setupClozeTexts(){$(".cloze-text-solution").draggable({revert:true,opacity:0.6});$(".cloze-text-gap").each(function(){question_id=getQuestionNumByChildElement(this);var d=questions[question_id].solutions["#"+this.id];var e=measureStringPixelSize(d,this,[["font-style","italic"]]);var c=10/(e*0.1+1);var a=Math.random()*c+1;var b=Math.floor(e*a);$(this).css("width",b+"px")});$(".cloze-text-gap").showBaseline()}function copyCSS(a,c,b){for(var d=0;d<b.length;d++){$(c).css(b[d],$(a).css(b[d]))}}function getQuestionNumByChildElement(a){var b=$(a).parentsUntil(".question").parent().attr("id");return b.replace("q","")}function measureStringPixelSize(a,f,d){var b="string-pixel-size-measuring-span";var c=$("#"+b);if(c.length==0){$("body").append('<span id="'+b+'" style="display:none"></span>');c=$("#"+b)}if(f!=null){var e=["font-family","font-size","font-weight","letter-spacing","word-spacing"];copyCSS(f,c,e)}if(d!=null){$.each(d,function(){c.css(this[0],this[1])})}c.text(a);return c.width()}function checkQuestion(a){if(questions[a]["type"]=="Matchup"){questions_new[a].check()}else{if(questions[a]["type"]=="ClozeText"){checkClozeText(a)}}}function solveQuestion(a){showExplanationLink(a);showExplanation(a);question=questions[a];switch(question.type){case"Matchup":questions_new[a].solve();break;case"TimePoint":questions_new[a].solve();break;case"ClozeText":solveClozeText(a);break;case"TermQuestion":questions_new[a].solve();break}checkQuestion(a)}function markAnswer(c,b){q=questions[c];showExplanationLink(c);var a="/history-quizzes/sprites.png";var d="";if(b==null){$(q.answer_correct).css("background","");return}else{if(b){$(q.heading+" .question-title-links").hide();$(q.heading+" .question-title-links").data("always_show",false)}else{d="-64px 0";showExplanation(c);$(q.heading+" .question-title-links").show();$(q.heading+" .question-title-links").data("always_show",true)}}$(q.answer_correct).css("background","url('"+a+"') "+d)}function showExplanationLink(a){var b=questions[a];$(b.explanation_link).show();updateUI()}function showExplanation(a){var b=questions[a];$(b.explanation_box).show();$(b.explanation_link).html("&lt; Hide Explanation");updateUI()}function hideExplanation(a){var b=questions[a];$(b.explanation_box).hide();$(b.explanation_link).html("&gt; Show Explanation");updateUI()}function toggleExplanation(a){var b=questions[a];var c=$(b.explanation_box).css("display");if(c=="none"){showExplanation(a)}else{hideExplanation(a)}}function updateUI(){$.each(questions,function(a,b){if(b.type=="Matchup"){questions_new[a].updateCanvasPosition()}})}var correctGapSolutionColor="green";var incorrectGapSolutionColor="red";function clozeTextBoxEdited(c,b){if(checkClozeTextBoxIsCorrect(c,b)){checkSingleClozeTextBox(c,b)}var a=getClozeTextCorrectness(b);if(!questions[b]["checkedbefore"]){if(a=="not-ready"){return}checkClozeText(b)}else{checkClozeText(b)}}function checkClozeText(b){questions[b]["checkedbefore"]=true;var a=getClozeTextCorrectness(b);if(a=="not-ready"){a=null}markAnswer(b,a)}function solveClozeText(b){var a=questions[b];for(gapSelector in a.solutions){solution=a.solutions[gapSelector];$(gapSelector).attr("value",solution)}}function getClozeTextCorrectness(b){var d=getClozeTextBoxName(b);var c=true;allBoxes=$("input[name="+d+"]");for(var a=0;a<allBoxes.length;a++){box=allBoxes[a];boxSelector="#"+box.id;if(!isClozeTextAnswer($(boxSelector).attr("value"),b)){return"not-ready"}if(!checkClozeTextBoxIsCorrect("#"+box.id,b)){c=false}checkSingleClozeTextBox(boxSelector,b)}return c}function isClozeTextAnswer(c,a){var b=questions[a]["solutions"];for(solutionId in b){solution=questions[a]["solutions"][solutionId];if(checkClozeTextAnswerEquality(solution,c)){return true}}return false}function getClozeTextBoxName(a){return"q"+a+"_clozetextbox"}function getSolutionDivId(a){return a.replace("#","")+"_solution"}function checkSingleClozeTextBox(a,b){if(checkClozeTextBoxIsCorrect(a,b)){$(a).css("color",correctGapSolutionColor)}else{$(a).css("color",incorrectGapSolutionColor)}$(a).css("font-style","italic")}function checkClozeTextBoxIsCorrect(a,d){var b=questions[d]["solutions"][a];var e=$(a).attr("value");var c=checkClozeTextAnswerEquality(e,b);updateSolutionDivStatus(a,c);return c}function checkClozeTextAnswerEquality(b,a){var b=b.toLowerCase().replace(/ /g,"");var a=a.toLowerCase().replace(/ /g,"");return b==a}function updateSolutionDivStatus(a,b){var c=$("#"+getSolutionDivId(a));if(b){c.css("text-decoration","line-through")}else{c.css("text-decoration","none")}}function clozeTextSolutionDropped(d,e){var c=d.target.id;var f=e.draggable[0].id;var a=$("#"+f).html();$("#"+c).attr("value",a);var b=$("#"+f).data("question_num");clozeTextBoxEdited("#"+c,b);checkSingleClozeTextBox("#"+c,b)}$(document).ready(function(){$("#comment-form").submit(function(){var a=$("#comment-box").val().length;if(a==0){return false}if(a>maxCommentLength){return false}$("button[type='submit']").attr("disabled","true")})});function flagQuiz(){$.post(flagUrl,function(a){$("#flagging-button").css("color","red");$("#flagging-button").html("Thanks, I'll take a look at this.")})}function deleteComment(b,a){$("#c"+a).css("border","3px solid orange");if(confirm("Do you really want to delete this comment?")){document.location="/quizzes/"+b+"/delete-comment?id="+a}else{$("#c"+a).css("border","")}}function Question(a){this.ui=new Object();this.ui.questionDiv=a.questionDiv;this.solve=function(){};this.check=function(){};this.runPostRenderUpdate=function(){};this.markAnswer=QuestionMarkAnswer}function QuestionMarkAnswer(a){markAnswer($(this.ui.questionDiv).attr("id").replace("q",""),a)}var matchupCanvasWidth=104;function MatchupQuestion(b){MatchupQuestion.prototype=new Question(b);Question.call(this,b);var a=b.questionDiv;this.ui.canvasContainer=undefined;this.ui.raphaelPaper=undefined;this.ui.firstParts=$(a).find(".mu-first-part");this.ui.secondParts=$(a).find(".mu-second-part");this.init=MatchupInit;this.check=MatchupCheck;this.solve=MatchupSolve;this.checkIfComplete=MatchupCheckIfComplete;this.updateCanvasPosition=MatchupUpdateCanvasPosition;this.updateConnectorLines=MatchupUpdateConnectorLines;this.connectPhraseParts=MatchupConnectPhraseParts;this.runPostRenderUpdate=MatchupRunPostRenderUpdate;this.init()}function MatchupInit(){equalizeDivWidths(this.ui.firstParts);equalizeDivWidths(this.ui.secondParts);equalizeMatchupPartHeights(this.ui.questionDiv);var f=this.ui.firstParts;for(var d=0;d<f.length;d++){$("#"+f[d].id).data("partner",null)}$(this.ui.questionDiv).find(".mu-second-part").droppable({drop:matchupElementDropped,hoverClass:"matchup-droppable-hover",activeClass:"matchup-droppable-active",accept:".mu-first-part",tolerance:"pointer"});$(this.ui.questionDiv).append("<div class='mu-canvas-container' style='position:absolute;'></div>");this.ui.canvasContainer=$(this.ui.questionDiv).find(".mu-canvas-container")[0];this.updateCanvasPosition();var b=$(this.ui.canvasContainer);var e=$(this.ui.questionDiv).find(".mu-first-part").last().offset().top+$(this.ui.questionDiv).find(".mu-first-part").last().outerHeight();var c=e-b.offset().top;var a=matchupCanvasWidth;this.ui.raphaelPaper=Raphael(this.ui.canvasContainer,a,c);$.each($(this.ui.questionDiv).find(".mu-first-part"),function(g,h){var i=$(h).offset().top-b.offset().top+0.5*$(h).outerHeight();$(h).data("anchorY",i)});$.each($(this.ui.questionDiv).find(".mu-second-part"),function(g,h){var i=$(h).offset().top-b.offset().top+0.5*$(h).outerHeight();$(h).data("anchorY",i)})}function MatchupRunPostRenderUpdate(){this.updateCanvasPosition()}function MatchupSolve(){var d=this.ui.firstParts;for(var c=0;c<d.length;c++){var a=d[c].id;var b="#"+a;var e=getCorrectSecondMatchupPartSelector(a);this.connectPhraseParts(b,e)}this.check()}function MatchupConnectPhraseParts(a,f){var e=$(this.ui.firstParts);for(var d=0;d<e.length;d++){var b=$(e[d]);if(b.data("partner")==f){b.data("partner",null);b.css("background-color","")}}$(a).data("partner",f);var g=getMatchupColor();$(a).css("background-color",g);$(f).css("background-color",g);this.updateConnectorLines()}function MatchupUpdateCanvasPosition(){var b=$(this.ui.questionDiv).find(".mu-first-part").first();var c=b.offset().top;var a=b.offset().left+b.outerWidth();$(this.ui.canvasContainer).css("left",a+"px");$(this.ui.canvasContainer).css("top",c+"px")}function MatchupUpdateConnectorLines(){var a=this.ui.raphaelPaper;a.clear();$.each($(this.ui.questionDiv).find(".mu-first-part"),function(b,d){if($(d).data("partner")!=null){var e=$(d).data("anchorY");var c=$($(d).data("partner")).data("anchorY");var f=$(d).css("background-color");a.path("M0 "+e+" L"+matchupCanvasWidth+" "+c).attr("stroke",f).attr("stroke-width",6);a.ellipse(0,e,8,8).attr("fill",f).attr("stroke",f);a.ellipse(matchupCanvasWidth,c,10,10).attr("fill",f).attr("stroke",f)}})}function MatchupCheck(){var c=this.ui.firstParts;var a=false;for(var b=0;b<c.length;b++){firstPartId=c[b].id;correctSecondPartId=getCorrectSecondMatchupPartSelector(firstPartId);answeredSecondPartId=getAnsweredSecondMatchupPartSelector(firstPartId);if(correctSecondPartId!=answeredSecondPartId){a=true;resetMatchupPartner($("#"+firstPartId));this.updateConnectorLines()}}this.markAnswer(!a)}function MatchupCheckIfComplete(){var c=$(this.ui.firstParts);for(var a=0;a<$(c).length;a++){var b=$(c[a]).data("partner");if(b==null){return false}}return true}function matchupElementDropped(a,b){part2="#"+a.target.id;part1="#"+b.draggable.attr("id");resetMatchupPartner($(part1));num=getQuestionNumByChildElement(part1);questions_new[num].connectPhraseParts(part1,part2);if(questions_new[num].checkIfComplete()){checkQuestion(num)}}function equalizeDivWidths(c){var d=0;for(var a=0;a<$(c).length;a++){var b=$("#"+$(c)[a].id).width();if(b>d){d=b}}d++;for(var a=0;a<$(c).length;a++){$("#"+$(c)[a].id).css("width",d)}}function equalizeMatchupPartHeights(b){var c=$(b).find(".mu-first-part");var a=$(b).find(".mu-second-part");$.each(c,function(e,f){var f=$(f);var d=$(a[e]);var g=(f.outerHeight()>d.outerHeight())?f.outerHeight():d.outerHeight();expandElementVertically(f,g);expandElementVertically(d,g)})}function getAnsweredSecondMatchupPartSelector(a){return $("#"+a).data("partner")}function getCorrectSecondMatchupPartSelector(a){return"#"+a.substring(0,a.length-1)+"b"}function expandElementVertically(b,a){var c=$(b).outerHeight();var e=a-c;var d=parseInt($(b).css("padding-top").replace("px",""));$(b).css("padding-top",d+e+"px")}function resetMatchupPartner(a){a.css("background-color","");if(a.data("partner")!=null){$(a.data("partner")).css("background-color","");a.data("partner",null)}}var matchupColors=["#f2f2c8","#d1b5d9","#bbc9ef","#eedabb","#cdddc3","#efc3bf","#b8d6e2","#eecbbc"];function getMatchupColor(){var a=matchupColors.shift();matchupColors.push(a);return a}function TermQuestion(b){TermQuestion.prototype=new Question(b);Question.call(this,b);this.answerBox=$(this.ui.questionDiv).find(".term-question-answer-box");this.standardAnswer=b.standardAnswer;this.possibleAnswers=new Array();this.possibleAnswers.push(standardizeString(b.standardAnswer));for(var a=0;a<b.alsoAcceptable.length;a++){this.possibleAnswers.push(standardizeString(b.alsoAcceptable[a]))}this.checkedBefore=false;this.init=TermQuestionInit;this.check=TermQuestionCheck;this.solve=TermQuestionSolve;this.isCurrentAnswerCorrect=TermQuestionIsCurrentAnswerCorrect;this.init()}function TermQuestionInit(){var a=this;$(this.answerBox).keyup(function(){if(a.checkedBefore){a.check()}else{if(a.isCurrentAnswerCorrect()){a.check()}}});$(this.answerBox).blur(function(){if($(this).val()!=""){a.check()}})}function TermQuestionSolve(){$(this.answerBox).val(this.standardAnswer);this.check()}function TermQuestionCheck(){this.markAnswer(this.isCurrentAnswerCorrect());this.checkedBefore=true}function TermQuestionIsCurrentAnswerCorrect(){return $.inArray(standardizeString($(this.answerBox).val()),this.possibleAnswers)!=-1}function standardizeString(a){a=a.replace(/[ \-,.]/g,"");a=a.replace(/[0-9]*/g,romanize);a=a.toLowerCase();return a}function romanize(c){romanMap=[1000,"M",900,"CM",500,"D",400,"CD",100,"C",90,"XC",50,"L",40,"XL",10,"X",9,"IX",5,"V",4,"IV",1,"I",];var b="";for(var a=0;c>0&&a<romanMap.length;a+=2){while(c>=romanMap[a]){b+=romanMap[a+1];c-=romanMap[a]}}return b}function TimePointQuestion(a){TimePointQuestion.prototype=new Question(a);Question.call(this,a);this.correctAnswer=getTimePointDate(a.year,a.month,a.day);this.ui.answerBox=$(this.ui.questionDiv).find(".tp-answer-box");this.tryCheck=TimePointTryCheck;this.solve=TimePointSolve;this.init=TimePointInit;this.init()}function TimePointInit(){var a=this;$(this.ui.answerBox).keyup(function(){a.tryCheck()})}function TimePointSolve(){$(this.ui.answerBox).val(this.correctAnswer.dateString);this.tryCheck()}function TimePointTryCheck(){var a=$(this.ui.answerBox).val();var b=tryParseTimePointDate(a);if(b==null||!answerIsReady(a,this.correctAnswer)){return}this.markAnswer(areTimePointDatesEqual(b,this.correctAnswer))}function answerIsReady(a,b){a=a.toLowerCase();if(b.accuracy=="year"){if(stripEraInfo(a).length!=(Math.abs(b.year)+"").length){return false}if(b.year<0){if(getExplicitEraInfo(a)==null){return false}}}return true}(function(a){a.fn.showBaseline=function(b){return this.each(function(){var c=a(this);baselineId=c.attr("id")+"-baseline";spaceCharacters=Array(201).join(" ");baseline="<input id='"+baselineId+"' type='text' class='textbox-baseline' tabindex='-1' value='"+spaceCharacters+"'></input>";space="<div class='inline-block' style='height:20px;'/>";c.wrap(space);c.before(baseline);copyCSS(c,a("#"+baselineId),["width","margin","margin-left"],"margin-right","margin-top","margin-bottom");c.addClass("baseline-textfield")})}})(jQuery);function limitTextareaLength(c,f,b,a,e){if(a==undefined){a=0}if(e==undefined){e="text"}var d={lengthMessageArea:f,maxLength:b,startShowMessageAt:a,textName:e};$(c).data("length-limiter-info",d);$(c).bind("keyup",limiterTextareaEdited)}function limiterTextareaEdited(a){var h=$(a.target);var f=$(h).data("length-limiter-info");var c=f.maxLength;var b=f.textName;currentTextLength=$(h).val().length;var i="";var e="#aaa";if(currentTextLength>c){var d=currentTextLength-c;i="Your "+b+" is "+d+" characters too long";e="red"}else{if(currentTextLength==c){i="Maximum "+b+" size reached";e="black"}else{if(currentTextLength==c-1){i="1 character left"}else{if(currentTextLength>f.startShowMessageAt){var g=c-currentTextLength;i=g+" characters left"}}}}$(f.lengthMessageArea).html(i).css("color",e)}(function(){function a8(){if(a8.is(arguments[0],dc)){var a=arguments[0],l=dh[aO](a8,a.splice(0,3+a8.is(a[0],dg))),k=l.set();for(var j=0,f=a[av];j<f;j++){var c=a[j]||{};a4[aY](c.type)&&k[c5](l[c.type]().attr(c))}return k}return dh[aO](a8,arguments)}a8.version="1.5.2";var a6=/[, ]+/,a4={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},a2=/\{(\d+)\}/g,a0="prototype",aY="hasOwnProperty",aW=document,aU=window,aS={was:Object[a0][aY].call(aU,"Raphael"),is:aU.Raphael},aR=function(){this.customAttributes={}},aQ,aP="appendChild",aO="apply",aN="concat",aL="createTouch" in aW,aJ="",aH=" ",aF=String,aD="split",aB="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[aD](aH),az={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},ax="join",av="length",at=aF[a0].toLowerCase,aq=Math,ao=aq.max,dp=aq.min,dm=aq.abs,dk=aq.pow,di=aq.PI,dg="number",de="string",dc="array",da="toString",c8="fill",c7=Object[a0][da],c6={},c5="push",c4=/^url\(['"]?([^\)]+?)['"]?\)$/i,c2=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,c0={"NaN":1,Infinity:1,"-Infinity":1},cX=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,cU=aq.round,cR="setAttribute",cP=parseFloat,cN=parseInt,cL=" progid:DXImageTransform.Microsoft",cJ=aF[a0].toUpperCase,cH={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},cF={along:"along",blur:dg,"clip-rect":"csv",cx:dg,cy:dg,fill:"colour","fill-opacity":dg,"font-size":dg,height:dg,opacity:dg,path:"path",r:dg,rotation:"csv",rx:dg,ry:dg,scale:"csv",stroke:"colour","stroke-opacity":dg,"stroke-width":dg,translation:"csv",width:dg,x:dg,y:dg},b9="replace",b7=/^(from|to|\d+%?)$/,dI=/\s*,\s*/,b0={hs:1,rg:1},cZ=/,?([achlmqrstvxz]),?/gi,cW=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,cT=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,cQ=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,cO=function(d,c){return d.key-c.key};a8.type=aU.SVGAngle||aW.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(a8.type=="VML"){var cM=aW.createElement("div"),cK;cM.innerHTML='<v:shape adj="1"/>';cK=cM.firstChild;cK.style.behavior="url(#default#VML)";if(!(cK&&typeof cK.adj=="object")){return a8.type=null}cM=null}a8.svg=!(a8.vml=a8.type=="VML");aR[a0]=a8[a0];aQ=aR[a0];a8._id=0;a8._oid=0;a8.fn={};a8.is=function(d,c){c=at.call(c);if(c=="finite"){return !c0[aY](+d)}return c=="null"&&d===null||c==typeof d||c=="object"&&d===Object(d)||c=="array"&&Array.isArray&&Array.isArray(d)||c7.call(d).slice(8,-1).toLowerCase()==c};a8.angle=function(a,p,o,n,m,l){if(m==null){var k=a-o,j=p-n;if(!k&&!j){return 0}return((k<0)*180+aq.atan(-j/-k)*180/di+360)%360}return a8.angle(a,p,m,l)-a8.angle(o,n,m,l)};a8.rad=function(b){return b%360*di/180};a8.deg=function(b){return b*180/di%360};a8.snapTo=function(a,j,i){i=a8.is(i,"finite")?i:10;if(a8.is(a,dc)){var h=a.length;while(h--){if(dm(a[h]-j)<=i){return a[h]}}}else{a=+a;var g=j%a;if(g<i){return j-g}if(g>a-i){return j-g+a}}return j};function cI(){var d=[],c=0;for(;c<32;c++){d[c]=(~(~(aq.random()*16)))[da](16)}d[12]=4;d[16]=(d[16]&3|8)[da](16);return"r-"+d[ax]("")}a8.setWindow=function(b){aU=b;aW=aU.document};var cG=function(g){if(i.vml){var n=/^\s+|\s+$/g,m;try{var l=new ActiveXObject("htmlfile");l.write("<body>");l.close();m=l.body}catch(i){m=createPopup().document.body}var k=m.createTextRange();cG=b5(function(d){try{m.style.color=aF(d)[b9](n,aJ);var c=k.queryCommandValue("ForeColor");c=(c&255)<<16|c&65280|(c&16711680)>>>16;return"#"+("000000"+c[da](16)).slice(-6)}catch(d){return"none"}})}else{var j=aW.createElement("i");j.title="Raphaël Colour Picker";j.style.display="none";aW.body[aP](j);cG=b5(function(b){j.style.color=b;return aW.defaultView.getComputedStyle(j,aJ).getPropertyValue("color")})}return cG(g)},cE=function(){return"hsb("+[this.h,this.s,this.b]+")"},b8=function(){return"hsl("+[this.h,this.s,this.l]+")"},b6=function(){return this.hex};a8.hsb2rgb=function(a,h,g,f){if(a8.is(a,"object")&&"h" in a&&"s" in a&&"b" in a){g=a.b;h=a.s;a=a.h;f=a.o}return a8.hsl2rgb(a,h,g/2,f)};a8.hsl2rgb=function(A,z,y,x){if(a8.is(A,"object")&&"h" in A&&"s" in A&&"l" in A){y=A.l;z=A.s;A=A.h}if(A>1||z>1||y>1){A/=360;z/=100;y/=100}var w={},v=["r","g","b"],u,t,s,r,p,o;if(z){y<0.5?u=y*(1+z):u=y+z-y*z;t=2*y-u;for(var a=0;a<3;a++){s=A+1/3*-(a-1);s<0&&s++;s>1&&s--;s*6<1?w[v[a]]=t+(u-t)*6*s:s*2<1?w[v[a]]=u:s*3<2?w[v[a]]=t+(u-t)*(2/3-s)*6:w[v[a]]=t}}else{w={r:y,g:y,b:y}}w.r*=255;w.g*=255;w.b*=255;w.hex="#"+(16777216|w.b|w.g<<8|w.r<<16).toString(16).slice(1);a8.is(x,"finite")&&(w.opacity=x);w.toString=b6;return w};a8.rgb2hsb=function(u,t,s){if(t==null&&a8.is(u,"object")&&"r" in u&&"g" in u&&"b" in u){s=u.b;t=u.g;u=u.r}if(t==null&&a8.is(u,de)){var r=a8.getRGB(u);u=r.r;t=r.g;s=r.b}if(u>1||t>1||s>1){u/=255;t/=255;s/=255}var p=ao(u,t,s),o=dp(u,t,s),n,m,l=p;if(o==p){return{h:0,s:0,b:p,toString:cE}}var a=p-o;m=a/p;u==p?n=(t-s)/a:t==p?n=2+(s-u)/a:n=4+(u-t)/a;n/=6;n<0&&n++;n>1&&n--;return{h:n,s:m,b:l,toString:cE}};a8.rgb2hsl=function(w,v,u){if(v==null&&a8.is(w,"object")&&"r" in w&&"g" in w&&"b" in w){u=w.b;v=w.g;w=w.r}if(v==null&&a8.is(w,de)){var t=a8.getRGB(w);w=t.r;v=t.g;u=t.b}if(w>1||v>1||u>1){w/=255;v/=255;u/=255}var s=ao(w,v,u),r=dp(w,v,u),p,o,n=(s+r)/2,m;if(r==s){m={h:0,s:0,l:n}}else{var a=s-r;o=n<0.5?a/(s+r):a/(2-s-r);w==s?p=(v-u)/a:v==s?p=2+(u-w)/a:p=4+(w-v)/a;p/=6;p<0&&p++;p>1&&p--;m={h:p,s:o,l:n}}m.toString=b8;return m};a8._path2string=function(){return this.join(",")[b9](cZ,"$1")};function b5(f,e,h){function g(){var d=Array[a0].slice.call(arguments,0),c=d[ax]("►"),b=g.cache=g.cache||{},a=g.count=g.count||[];if(b[aY](c)){return h?h(b[c]):b[c]}a[av]>=1000&&delete b[a.shift()];a[c5](c);b[c]=f[aO](e,d);return h?h(b[c]):b[c]}return g}a8.getRGB=b5(function(s){if(!s||!(!((s=aF(s)).indexOf("-")+1))){return{r:-1,g:-1,b:-1,hex:"none",error:1}}if(s=="none"){return{r:-1,g:-1,b:-1,hex:"none"}}!(b0[aY](s.toLowerCase().substring(0,2))||s.charAt()=="#")&&(s=cG(s));var r,p,o,n,m,l,f,a=s.match(c2);if(a){if(a[2]){n=cN(a[2].substring(5),16);o=cN(a[2].substring(3,5),16);p=cN(a[2].substring(1,3),16)}if(a[3]){n=cN((l=a[3].charAt(3))+l,16);o=cN((l=a[3].charAt(2))+l,16);p=cN((l=a[3].charAt(1))+l,16)}if(a[4]){f=a[4][aD](dI);p=cP(f[0]);f[0].slice(-1)=="%"&&(p*=2.55);o=cP(f[1]);f[1].slice(-1)=="%"&&(o*=2.55);n=cP(f[2]);f[2].slice(-1)=="%"&&(n*=2.55);a[1].toLowerCase().slice(0,4)=="rgba"&&(m=cP(f[3]));f[3]&&f[3].slice(-1)=="%"&&(m/=100)}if(a[5]){f=a[5][aD](dI);p=cP(f[0]);f[0].slice(-1)=="%"&&(p*=2.55);o=cP(f[1]);f[1].slice(-1)=="%"&&(o*=2.55);n=cP(f[2]);f[2].slice(-1)=="%"&&(n*=2.55);(f[0].slice(-3)=="deg"||f[0].slice(-1)=="°")&&(p/=360);a[1].toLowerCase().slice(0,4)=="hsba"&&(m=cP(f[3]));f[3]&&f[3].slice(-1)=="%"&&(m/=100);return a8.hsb2rgb(p,o,n,m)}if(a[6]){f=a[6][aD](dI);p=cP(f[0]);f[0].slice(-1)=="%"&&(p*=2.55);o=cP(f[1]);f[1].slice(-1)=="%"&&(o*=2.55);n=cP(f[2]);f[2].slice(-1)=="%"&&(n*=2.55);(f[0].slice(-3)=="deg"||f[0].slice(-1)=="°")&&(p/=360);a[1].toLowerCase().slice(0,4)=="hsla"&&(m=cP(f[3]));f[3]&&f[3].slice(-1)=="%"&&(m/=100);return a8.hsl2rgb(p,o,n,m)}a={r:p,g:o,b:n};a.hex="#"+(16777216|n|o<<8|p<<16).toString(16).slice(1);a8.is(m,"finite")&&(a.opacity=m);return a}return{r:-1,g:-1,b:-1,hex:"none",error:1}},a8);a8.getColor=function(e){var d=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||0.75},f=this.hsb2rgb(d.h,d.s,d.b);d.h+=0.075;if(d.h>1){d.h=0;d.s-=0.2;d.s<=0&&(this.getColor.start={h:0,s:1,b:d.b})}return f.hex};a8.getColor.reset=function(){delete this.start};a8.parsePathString=b5(function(a){if(!a){return null}var f={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=[];a8.is(a,dc)&&a8.is(a[0],dc)&&(e=b3(a));e[av]||aF(a)[b9](cW,function(d,c,j){var i=[],h=at.call(c);j[b9](cT,function(k,g){g&&i[c5](+g)});if(h=="m"&&i[av]>2){e[c5]([c][aN](i.splice(0,2)));h="l";c=c=="m"?"l":"L"}while(i[av]>=f[h]){e[c5]([c][aN](i.splice(0,f[h])));if(!f[h]){break}}});e[da]=a8._path2string;return e});a8.findDotsAtSegment=function(P,O,N,M,L,K,J,I,H){var G=1-H,F=dk(G,3)*P+dk(G,2)*3*H*N+G*3*H*H*L+dk(H,3)*J,E=dk(G,3)*O+dk(G,2)*3*H*M+G*3*H*H*K+dk(H,3)*I,D=P+2*H*(N-P)+H*H*(L-2*N+P),C=O+2*H*(M-O)+H*H*(K-2*M+O),B=N+2*H*(L-N)+H*H*(J-2*L+N),A=M+2*H*(K-M)+H*H*(I-2*K+M),z=(1-H)*P+H*N,y=(1-H)*O+H*M,x=(1-H)*L+H*J,w=(1-H)*K+H*I,v=90-aq.atan((D-B)/(C-A))*180/di;(D>B||C<A)&&(v+=180);return{x:F,y:E,m:{x:D,y:C},n:{x:B,y:A},start:{x:z,y:y},end:{x:x,y:w},alpha:v}};var b4=b5(function(w){if(!w){return{x:0,y:0,width:0,height:0}}w=aZ(w);var v=0,u=0,t=[],s=[],r;for(var p=0,o=w[av];p<o;p++){r=w[p];if(r[0]=="M"){v=r[1];u=r[2];t[c5](v);s[c5](u)}else{var n=a1(v,u,r[1],r[2],r[3],r[4],r[5],r[6]);t=t[aN](n.min.x,n.max.x);s=s[aN](n.min.y,n.max.y);v=r[5];u=r[6]}}var m=dp[aO](0,t),l=dp[aO](0,s);return{x:m,y:l,width:ao[aO](0,t)-m,height:ao[aO](0,s)-l}}),b3=function(a){var l=[];if(!a8.is(a,dc)||!a8.is(a&&a[0],dc)){a=a8.parsePathString(a)}for(var k=0,j=a[av];k<j;k++){l[k]=[];for(var i=0,h=a[k][av];i<h;i++){l[k][i]=a[k][i]}}l[da]=a8._path2string;return l},b2=b5(function(F){if(!a8.is(F,dc)||!a8.is(F&&F[0],dc)){F=a8.parsePathString(F)}var E=[],D=0,C=0,B=0,A=0,z=0;if(F[0][0]=="M"){D=F[0][1];C=F[0][2];B=D;A=C;z++;E[c5](["M",D,C])}for(var y=z,x=F[av];y<x;y++){var w=E[y]=[],v=F[y];if(v[0]!=at.call(v[0])){w[0]=at.call(v[0]);switch(w[0]){case"a":w[1]=v[1];w[2]=v[2];w[3]=v[3];w[4]=v[4];w[5]=v[5];w[6]=+(v[6]-D).toFixed(3);w[7]=+(v[7]-C).toFixed(3);break;case"v":w[1]=+(v[1]-C).toFixed(3);break;case"m":B=v[1];A=v[2];default:for(var u=1,t=v[av];u<t;u++){w[u]=+(v[u]-(u%2?D:C)).toFixed(3)}}}else{w=E[y]=[];if(v[0]=="m"){B=v[1]+D;A=v[2]+C}for(var s=0,r=v[av];s<r;s++){E[y][s]=v[s]}}var a=E[y][av];switch(E[y][0]){case"z":D=B;C=A;break;case"h":D+=+E[y][a-1];break;case"v":C+=+E[y][a-1];break;default:D+=+E[y][a-2];C+=+E[y][a-1]}}E[da]=a8._path2string;return E},0,b3),b1=b5(function(E){if(!a8.is(E,dc)||!a8.is(E&&E[0],dc)){E=a8.parsePathString(E)}var D=[],C=0,B=0,A=0,z=0,y=0;if(E[0][0]=="M"){C=+E[0][1];B=+E[0][2];A=C;z=B;y++;D[0]=["M",C,B]}for(var x=y,w=E[av];x<w;x++){var v=D[x]=[],u=E[x];if(u[0]!=cJ.call(u[0])){v[0]=cJ.call(u[0]);switch(v[0]){case"A":v[1]=u[1];v[2]=u[2];v[3]=u[3];v[4]=u[4];v[5]=u[5];v[6]=+(u[6]+C);v[7]=+(u[7]+B);break;case"V":v[1]=+u[1]+B;break;case"H":v[1]=+u[1]+C;break;case"M":A=+u[1]+C;z=+u[2]+B;default:for(var t=1,s=u[av];t<s;t++){v[t]=+u[t]+(t%2?C:B)}}}else{for(var r=0,a=u[av];r<a;r++){D[x][r]=u[r]}}switch(v[0]){case"Z":C=A;B=z;break;case"H":C=v[1];break;case"V":B=v[1];break;case"M":A=D[x][D[x][av]-2];z=D[x][D[x][av]-1];default:C=D[x][D[x][av]-2];B=D[x][D[x][av]-1]}}D[da]=a8._path2string;return D},null,b3),a9=function(f,e,h,g){return[f,e,h,g,h,g]},a7=function(j,i,p,o,n,m){var l=1/3,k=2/3;return[l*j+k*p,l*i+k*o,l*n+k*p,l*m+k*o,n,m]},a5=function(bL,bK,bJ,bI,bH,bG,bF,bE,bD,bC){var bB=di*120/180,bA=di/180*(+bH||0),bz=[],by,bx=b5(function(g,f,j){var i=g*aq.cos(j)-f*aq.sin(j),h=g*aq.sin(j)+f*aq.cos(j);return{x:i,y:h}});if(bC){bm=bC[0];bl=bC[1];bo=bC[2];bn=bC[3]}else{by=bx(bL,bK,-bA);bL=by.x;bK=by.y;by=bx(bE,bD,-bA);bE=by.x;bD=by.y;var bw=aq.cos(di/180*bH),bv=aq.sin(di/180*bH),bu=(bL-bE)/2,bt=(bK-bD)/2,bs=bu*bu/(bJ*bJ)+bt*bt/(bI*bI);if(bs>1){bs=aq.sqrt(bs);bJ=bs*bJ;bI=bs*bI}var br=bJ*bJ,bq=bI*bI,bp=(bG==bF?-1:1)*aq.sqrt(dm((br*bq-br*bt*bt-bq*bu*bu)/(br*bt*bt+bq*bu*bu))),bo=bp*bJ*bt/bI+(bL+bE)/2,bn=bp*-bI*bu/bJ+(bK+bD)/2,bm=aq.asin(((bK-bn)/bI).toFixed(9)),bl=aq.asin(((bD-bn)/bI).toFixed(9));bm=bL<bo?di-bm:bm;bl=bE<bo?di-bl:bl;bm<0&&(bm=di*2+bm);bl<0&&(bl=di*2+bl);bF&&bm>bl&&(bm=bm-di*2);!bF&&bl>bm&&(bl=bl-di*2)}var bk=bl-bm;if(dm(bk)>bB){var bj=bl,bi=bE,bh=bD;bl=bm+bB*(bF&&bl>bm?1:-1);bE=bo+bJ*aq.cos(bl);bD=bn+bI*aq.sin(bl);bz=a5(bE,bD,bJ,bI,bH,0,bF,bi,bh,[bl,bj,bo,bn])}bk=bl-bm;var bg=aq.cos(bm),bf=aq.sin(bm),be=aq.cos(bl),bd=aq.sin(bl),bc=aq.tan(bk/4),bb=4/3*bJ*bc,ba=4/3*bI*bc,D=[bL,bK],B=[bL+bb*bf,bK-ba*bg],y=[bE+bb*bd,bD-ba*be],w=[bE,bD];B[0]=2*D[0]-B[0];B[1]=2*D[1]-B[1];if(bC){return[B,y,w][aN](bz)}bz=[B,y,w][aN](bz)[ax]()[aD](",");var v=[];for(var s=0,n=bz[av];s<n;s++){v[s]=s%2?bx(bz[s-1],bz[s],bA).y:bx(bz[s],bz[s+1],bA).x}return v},a3=function(u,t,s,r,p,o,n,m,l){var k=1-l;return{x:dk(k,3)*u+dk(k,2)*3*l*s+k*3*l*l*p+dk(l,3)*n,y:dk(k,3)*t+dk(k,2)*3*l*r+k*3*l*l*o+dk(l,3)*m}},a1=b5(function(F,E,D,C,B,A,z,y){var x=B-2*D+F-(z-2*B+D),w=2*(D-F)-2*(B-D),v=F-D,u=(-w+aq.sqrt(w*w-4*x*v))/2/x,t=(-w-aq.sqrt(w*w-4*x*v))/2/x,s=[E,y],r=[F,z],m;dm(u)>"1e12"&&(u=0.5);dm(t)>"1e12"&&(t=0.5);if(u>0&&u<1){m=a3(F,E,D,C,B,A,z,y,u);r[c5](m.x);s[c5](m.y)}if(t>0&&t<1){m=a3(F,E,D,C,B,A,z,y,t);r[c5](m.x);s[c5](m.y)}x=A-2*C+E-(y-2*A+C);w=2*(C-E)-2*(A-C);v=E-C;u=(-w+aq.sqrt(w*w-4*x*v))/2/x;t=(-w-aq.sqrt(w*w-4*x*v))/2/x;dm(u)>"1e12"&&(u=0.5);dm(t)>"1e12"&&(t=0.5);if(u>0&&u<1){m=a3(F,E,D,C,B,A,z,y,u);r[c5](m.x);s[c5](m.y)}if(t>0&&t<1){m=a3(F,E,D,C,B,A,z,y,t);r[c5](m.x);s[c5](m.y)}return{min:{x:dp[aO](0,r),y:dp[aO](0,s)},max:{x:ao[aO](0,r),y:ao[aO](0,s)}}}),aZ=b5(function(D,C){var B=b1(D),A=C&&b1(C),z={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},y={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},x=function(f,e){var h,g;if(!f){return["C",e.x,e.y,e.x,e.y,e.x,e.y]}!(f[0] in {T:1,Q:1})&&(e.qx=e.qy=null);switch(f[0]){case"M":e.X=f[1];e.Y=f[2];break;case"A":f=["C"][aN](a5[aO](0,[e.x,e.y][aN](f.slice(1))));break;case"S":h=e.x+(e.x-(e.bx||e.x));g=e.y+(e.y-(e.by||e.y));f=["C",h,g][aN](f.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x));e.qy=e.y+(e.y-(e.qy||e.y));f=["C"][aN](a7(e.x,e.y,e.qx,e.qy,f[1],f[2]));break;case"Q":e.qx=f[1];e.qy=f[2];f=["C"][aN](a7(e.x,e.y,f[1],f[2],f[3],f[4]));break;case"L":f=["C"][aN](a9(e.x,e.y,f[1],f[2]));break;case"H":f=["C"][aN](a9(e.x,e.y,f[1],e.y));break;case"V":f=["C"][aN](a9(e.x,e.y,e.x,f[1]));break;case"Z":f=["C"][aN](a9(e.x,e.y,e.X,e.Y));break}return f},w=function(d,c){if(d[c][av]>7){d[c].shift();var f=d[c];while(f[av]){d.splice(c++,0,["C"][aN](f.splice(0,6)))}d.splice(c,1);t=ao(B[av],A&&A[av]||0)}},v=function(d,c,j,i,h){if(d&&c&&d[h][0]=="M"&&c[h][0]!="M"){c.splice(h,0,["M",i.x,i.y]);j.bx=0;j.by=0;j.x=d[h][1];j.y=d[h][2];t=ao(B[av],A&&A[av]||0)}};for(var u=0,t=ao(B[av],A&&A[av]||0);u<t;u++){B[u]=x(B[u],z);w(B,u);A&&(A[u]=x(A[u],y));A&&w(A,u);v(B,A,z,y,u);v(A,B,y,z,u);var s=B[u],r=A&&A[u],n=s[av],m=A&&r[av];z.x=s[n-2];z.y=s[n-1];z.bx=cP(s[n-4])||z.x;z.by=cP(s[n-3])||z.y;y.bx=A&&(cP(r[m-4])||y.x);y.by=A&&(cP(r[m-3])||y.y);y.x=A&&r[m-2];y.y=A&&r[m-1]}return A?[B,A]:B},null,b3),aX=b5(function(u){var t=[];for(var s=0,r=u[av];s<r;s++){var p={},o=u[s].match(/^([^:]*):?([\d\.]*)/);p.color=a8.getRGB(o[1]);if(p.color.error){return null}p.color=p.color.hex;o[2]&&(p.offset=o[2]+"%");t[c5](p)}for(s=1,r=t[av]-1;s<r;s++){if(!t[s].offset){var n=cP(t[s-1].offset||0),m=0;for(var l=s+1;l<r;l++){if(t[l].offset){m=t[l].offset;break}}if(!m){m=100;l=r}m=cP(m);var a=(m-n)/(l-s+1);for(;s<l;s++){n+=a;t[s].offset=n+"%"}}}return t}),aV=function(a,j,i,h){var g;if(a8.is(a,de)||a8.is(a,"object")){g=a8.is(a,de)?aW.getElementById(a):a;if(g.tagName){return j==null?{container:g,width:g.style.pixelWidth||g.offsetWidth,height:g.style.pixelHeight||g.offsetHeight}:{container:g,width:j,height:i}}}else{return{container:1,x:a,y:j,width:i,height:h}}},aT=function(f,e){var h=this;for(var g in e){if(e[aY](g)&&!(g in f)){switch(typeof e[g]){case"function":(function(a){f[g]=f===h?a:function(){return a[aO](h,arguments)}})(e[g]);break;case"object":f[g]=f[g]||{};aT.call(this,f[g],e[g]);break;default:f[g]=e[g];break}}}},dH=function(d,c){d==c.top&&(c.top=d.prev);d==c.bottom&&(c.bottom=d.next);d.next&&(d.next.prev=d.prev);d.prev&&(d.prev.next=d.next)},dG=function(d,c){if(c.top===d){return}dH(d,c);d.next=null;d.prev=c.top;c.top.next=d;c.top=d},dF=function(d,c){if(c.bottom===d){return}dH(d,c);d.next=c.bottom;d.prev=null;c.bottom.prev=d;c.bottom=d},dE=function(e,d,f){dH(e,f);d==f.top&&(f.top=e);d.next&&(d.next.prev=e);e.next=d.next;e.prev=d;d.next=e},dD=function(e,d,f){dH(e,f);d==f.bottom&&(f.bottom=e);d.prev&&(d.prev.next=e);e.prev=d.prev;d.prev=e;e.next=d},dC=function(b){return function(){throw new Error("Raphaël: you are calling to method “"+b+"” of removed object")}};a8.pathToRelative=b2;if(a8.svg){aQ.svgns="http://www.w3.org/2000/svg";aQ.xlink="http://www.w3.org/1999/xlink";cU=function(b){return +b+(~(~b)===b)*0.5};var dB=function(e,d){if(d){for(var f in d){d[aY](f)&&e[cR](f,aF(d[f]))}}else{e=aW.createElementNS(aQ.svgns,e);e.style.webkitTapHighlightColor="rgba(0,0,0,0)";return e}};a8[da]=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var dA=function(f,e){var h=dB("path");e.canvas&&e.canvas[aP](h);var g=new du(h,e);g.type="path";dx(g,{fill:"none",stroke:"#000",path:f});return g},dz=function(D,C,B){var A="linear",z=0.5,y=0.5,x=D.style;C=aF(C)[b9](cQ,function(e,d,h){A="radial";if(d&&h){z=cP(d);y=cP(h);var f=(y>0.5)*2-1;dk(z-0.5,2)+dk(y-0.5,2)>0.25&&(y=aq.sqrt(0.25-dk(z-0.5,2))*f+0.5)&&y!=0.5&&(y=y.toFixed(5)-0.00001*f)}return aJ});C=C[aD](/\s*\-\s*/);if(A=="linear"){var w=C.shift();w=-cP(w);if(isNaN(w)){return null}var v=[0,0,aq.cos(w*di/180),aq.sin(w*di/180)],s=1/(ao(dm(v[2]),dm(v[3]))||1);v[2]*=s;v[3]*=s;if(v[2]<0){v[0]=-v[2];v[2]=0}if(v[3]<0){v[1]=-v[3];v[3]=0}}var r=aX(C);if(!r){return null}var p=D.getAttribute(c8);p=p.match(/^url\(#(.*)\)$/);p&&B.defs.removeChild(aW.getElementById(p[1]));var l=dB(A+"Gradient");l.id=cI();dB(l,A=="radial"?{fx:z,fy:y}:{x1:v[0],y1:v[1],x2:v[2],y2:v[3]});B.defs[aP](l);for(var g=0,F=r[av];g<F;g++){var E=dB("stop");dB(E,{offset:r[g].offset?r[g].offset:g?"100%":"0%","stop-color":r[g].color||"#fff"});l[aP](E)}dB(D,{fill:"url(#"+l.id+")",opacity:1,"fill-opacity":1});x.fill=aJ;x.opacity=1;x.fillOpacity=1;return 1},dy=function(a){var d=a.getBBox();dB(a.pattern,{patternTransform:a8.format("translate({0},{1})",d.x,d.y)})},dx=function(W,V){var U={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},T=W.node,S=W.attrs,R=W.rotate(),Q=function(e,d){d=U[at.call(d)];if(d){var m=e.attrs["stroke-width"]||"1",k=({round:m,square:m,butt:0})[e.attrs["stroke-linecap"]||V["stroke-linecap"]]||0,j=[],h=d[av];while(h--){j[h]=d[h]*m+(h%2?1:-1)*k}dB(T,{"stroke-dasharray":j[ax](",")})}};V[aY]("rotation")&&(R=V.rotation);var P=aF(R)[aD](a6);if(P.length-1){P[1]=+P[1];P[2]=+P[2]}else{P=null}cP(R)&&W.rotate(0,true);for(var O in V){if(V[aY](O)){if(!cH[aY](O)){continue}var N=V[O];S[O]=N;switch(O){case"blur":W.blur(N);break;case"rotation":W.rotate(N,true);break;case"href":case"title":case"target":var w=T.parentNode;if(at.call(w.tagName)!="a"){var s=dB("a");w.insertBefore(s,T);s[aP](T);w=s}O=="target"&&N=="blank"?w.setAttributeNS(W.paper.xlink,"show","new"):w.setAttributeNS(W.paper.xlink,O,N);break;case"cursor":T.style.cursor=N;break;case"clip-rect":var g=aF(N)[aD](a6);if(g[av]==4){W.clip&&W.clip.parentNode.parentNode.removeChild(W.clip.parentNode);var b=dB("clipPath"),M=dB("rect");b.id=cI();dB(M,{x:g[0],y:g[1],width:g[2],height:g[3]});b[aP](M);W.paper.defs[aP](b);dB(T,{"clip-path":"url(#"+b.id+")"});W.clip=M}if(!N){var L=aW.getElementById(T.getAttribute("clip-path")[b9](/(^url\(#|\)$)/g,aJ));L&&L.parentNode.removeChild(L);dB(T,{"clip-path":aJ});delete W.clip}break;case"path":W.type=="path"&&dB(T,{d:N?S.path=b1(N):"M0,0"});break;case"width":T[cR](O,N);if(S.fx){O="x";N=S.x}else{break}case"x":S.fx&&(N=-S.x-(S.width||0));case"rx":if(O=="rx"&&W.type=="rect"){break}case"cx":P&&(O=="x"||O=="cx")&&(P[1]+=N-S[O]);T[cR](O,N);W.pattern&&dy(W);break;case"height":T[cR](O,N);if(S.fy){O="y";N=S.y}else{break}case"y":S.fy&&(N=-S.y-(S.height||0));case"ry":if(O=="ry"&&W.type=="rect"){break}case"cy":P&&(O=="y"||O=="cy")&&(P[2]+=N-S[O]);T[cR](O,N);W.pattern&&dy(W);break;case"r":W.type=="rect"?dB(T,{rx:N,ry:N}):T[cR](O,N);break;case"src":W.type=="image"&&T.setAttributeNS(W.paper.xlink,"href",N);break;case"stroke-width":T.style.strokeWidth=N;T[cR](O,N);S["stroke-dasharray"]&&Q(W,S["stroke-dasharray"]);break;case"stroke-dasharray":Q(W,N);break;case"translation":var I=aF(N)[aD](a6);I[0]=+I[0]||0;I[1]=+I[1]||0;if(P){P[1]+=I[0];P[2]+=I[1]}aa.call(W,I[0],I[1]);break;case"scale":I=aF(N)[aD](a6);W.scale(+I[0]||1,+I[1]||+I[0]||1,isNaN(cP(I[2]))?null:+I[2],isNaN(cP(I[3]))?null:+I[3]);break;case c8:var x=aF(N).match(c4);if(x){b=dB("pattern");var v=dB("image");b.id=cI();dB(b,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});dB(v,{x:0,y:0});v.setAttributeNS(W.paper.xlink,"href",x[1]);b[aP](v);var r=aW.createElement("img");r.style.cssText="position:absolute;left:-9999em;top-9999em";r.onload=function(){dB(b,{width:this.offsetWidth,height:this.offsetHeight});dB(v,{width:this.offsetWidth,height:this.offsetHeight});aW.body.removeChild(this);W.paper.safari()};aW.body[aP](r);r.src=x[1];W.paper.defs[aP](b);T.style.fill="url(#"+b.id+")";dB(T,{fill:"url(#"+b.id+")"});W.pattern=b;W.pattern&&dy(W);break}var p=a8.getRGB(N);if(p.error){if((({circle:1,ellipse:1})[aY](W.type)||aF(N).charAt()!="r")&&dz(T,N,W.paper)){S.gradient=N;S.fill="none";break}else{delete V.gradient;delete S.gradient;!a8.is(S.opacity,"undefined")&&a8.is(V.opacity,"undefined")&&dB(T,{opacity:S.opacity});!a8.is(S["fill-opacity"],"undefined")&&a8.is(V["fill-opacity"],"undefined")&&dB(T,{"fill-opacity":S["fill-opacity"]})}}p[aY]("opacity")&&dB(T,{"fill-opacity":p.opacity>1?p.opacity/100:p.opacity});case"stroke":p=a8.getRGB(N);T[cR](O,p.hex);O=="stroke"&&p[aY]("opacity")&&dB(T,{"stroke-opacity":p.opacity>1?p.opacity/100:p.opacity});break;case"gradient":(({circle:1,ellipse:1})[aY](W.type)||aF(N).charAt()!="r")&&dz(T,N,W.paper);break;case"opacity":S.gradient&&!S[aY]("stroke-opacity")&&dB(T,{"stroke-opacity":N>1?N/100:N});case"fill-opacity":if(S.gradient){var l=aW.getElementById(T.getAttribute(c8)[b9](/^url\(#|\)$/g,aJ));if(l){var f=l.getElementsByTagName("stop");f[f[av]-1][cR]("stop-opacity",N)}break}default:O=="font-size"&&(N=cN(N,10)+"px");var a=O[b9](/(\-.)/g,function(c){return cJ.call(c.substring(1))});T.style[a]=N;T[cR](O,N);break}}}dv(W,V);P?W.rotate(P.join(aH)):cP(R)&&W.rotate(R,true)},dw=1.2,dv=function(w,v){if(w.type!="text"||!(v[aY]("text")||v[aY]("font")||v[aY]("font-size")||v[aY]("x")||v[aY]("y"))){return}var u=w.attrs,t=w.node,s=t.firstChild?cN(aW.defaultView.getComputedStyle(t.firstChild,aJ).getPropertyValue("font-size"),10):10;if(v[aY]("text")){u.text=v.text;while(t.firstChild){t.removeChild(t.firstChild)}var r=aF(v.text)[aD]("\n");for(var p=0,l=r[av];p<l;p++){if(r[p]){var g=dB("tspan");p&&dB(g,{dy:s*dw,x:u.x});g[aP](aW.createTextNode(r[p]));t[aP](g)}}}else{r=t.getElementsByTagName("tspan");for(p=0,l=r[av];p<l;p++){p&&dB(r[p],{dy:s*dw,x:u.x})}}dB(t,{y:u.y});var f=w.getBBox(),a=u.y-(f.y+f.height/2);a&&a8.is(a,"finite")&&dB(t,{y:u.y+a})},du=function(a,h){var g=0,f=0;this[0]=a;this.id=a8._oid++;this.node=a;a.raphael=this;this.paper=h;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!h.bottom&&(h.bottom=this);this.prev=h.top;h.top&&(h.top.next=this);h.top=this;this.next=null},dt=du[a0];du[a0].rotate=function(h,g,b){if(this.removed){return this}if(h==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][ax](aH)}return this._.rt.deg}var a=this.getBBox();h=aF(h)[aD](a6);if(h[av]-1){g=cP(h[1]);b=cP(h[2])}h=cP(h[0]);g!=null&&g!==false?this._.rt.deg=h:this._.rt.deg+=h;b==null&&(g=null);this._.rt.cx=g;this._.rt.cy=b;g=g==null?a.x+a.width/2:g;b=b==null?a.y+a.height/2:b;if(this._.rt.deg){this.transformations[0]=a8.format("rotate({0} {1} {2})",this._.rt.deg,g,b);this.clip&&dB(this.clip,{transform:a8.format("rotate({0} {1} {2})",-this._.rt.deg,g,b)})}else{this.transformations[0]=aJ;this.clip&&dB(this.clip,{transform:aJ})}dB(this.node,{transform:this.transformations[ax](aH)});return this};du[a0].hide=function(){!this.removed&&(this.node.style.display="none");return this};du[a0].show=function(){!this.removed&&(this.node.style.display="");return this};du[a0].remove=function(){if(this.removed){return}dH(this,this.paper);this.node.parentNode.removeChild(this.node);for(var b in this){delete this[b]}this.removed=true};du[a0].getBBox=function(){if(this.removed){return this}if(this.type=="path"){return b4(this.attrs.path)}if(this.node.style.display=="none"){this.show();var g=true}var f={};try{f=this.node.getBBox()}catch(g){}finally{f=f||{}}if(this.type=="text"){f={x:f.x,y:Infinity,width:0,height:0};for(var j=0,i=this.node.getNumberOfChars();j<i;j++){var h=this.node.getExtentOfChar(j);h.y<f.y&&(f.y=h.y);h.y+h.height-f.y>f.height&&(f.height=h.y+h.height-f.y);h.x+h.width-f.x>f.width&&(f.width=h.x+h.width-f.x)}}g&&this.hide();return f};du[a0].attr=function(w,v){if(this.removed){return this}if(w==null){var u={};for(var t in this.attrs){this.attrs[aY](t)&&(u[t]=this.attrs[t])}this._.rt.deg&&(u.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(u.scale=this.scale());u.gradient&&u.fill=="none"&&(u.fill=u.gradient)&&delete u.gradient;return u}if(v==null&&a8.is(w,de)){if(w=="translation"){return aa.call(this)}if(w=="rotation"){return this.rotate()}if(w=="scale"){return this.scale()}if(w==c8&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[w]}if(v==null&&a8.is(w,dc)){var s={};for(var r=0,p=w.length;r<p;r++){s[w[r]]=this.attr(w[r])}return s}if(v!=null){var o={};o[w]=v}else{w!=null&&a8.is(w,"object")&&(o=w)}for(var n in this.paper.customAttributes){if(this.paper.customAttributes[aY](n)&&o[aY](n)&&a8.is(this.paper.customAttributes[n],"function")){var f=this.paper.customAttributes[n].apply(this,[][aN](o[n]));this.attrs[n]=o[n];for(var a in f){f[aY](a)&&(o[a]=f[a])}}}dx(this,o);return this};du[a0].toFront=function(){if(this.removed){return this}this.node.parentNode[aP](this.node);var b=this.paper;b.top!=this&&dG(this,b);return this};du[a0].toBack=function(){if(this.removed){return this}if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);dF(this,this.paper);var b=this.paper}return this};du[a0].insertAfter=function(d){if(this.removed){return this}var c=d.node||d[d.length-1].node;c.nextSibling?c.parentNode.insertBefore(this.node,c.nextSibling):c.parentNode[aP](this.node);dE(this,d,this.paper);return this};du[a0].insertBefore=function(d){if(this.removed){return this}var c=d.node||d[0].node;c.parentNode.insertBefore(this.node,c);dD(this,d,this.paper);return this};du[a0].blur=function(f){var e=this;if(+f!==0){var h=dB("filter"),g=dB("feGaussianBlur");e.attrs.blur=f;h.id=cI();dB(g,{stdDeviation:+f||1.5});h.appendChild(g);e.paper.defs.appendChild(h);e._blur=h;dB(e.node,{filter:"url(#"+h.id+")"})}else{if(e._blur){e._blur.parentNode.removeChild(e._blur);delete e._blur;delete e.attrs.blur}e.node.removeAttribute("filter")}};var ds=function(h,g,l,k){var j=dB("circle");h.canvas&&h.canvas[aP](j);var i=new du(j,h);i.attrs={cx:g,cy:l,r:k,fill:"none",stroke:"#000"};i.type="circle";dB(j,i.attrs);return i},dr=function(j,i,p,o,n,m){var l=dB("rect");j.canvas&&j.canvas[aP](l);var k=new du(l,j);k.attrs={x:i,y:p,width:o,height:n,r:m||0,rx:m||0,ry:m||0,fill:"none",stroke:"#000"};k.type="rect";dB(l,k.attrs);return k},dq=function(i,h,n,m,l){var k=dB("ellipse");i.canvas&&i.canvas[aP](k);var j=new du(k,i);j.attrs={cx:h,cy:n,rx:m,ry:l,fill:"none",stroke:"#000"};j.type="ellipse";dB(k,j.attrs);return j},dn=function(j,i,p,o,n,m){var l=dB("image");dB(l,{x:p,y:o,width:n,height:m,preserveAspectRatio:"none"});l.setAttributeNS(j.xlink,"href",i);j.canvas&&j.canvas[aP](l);var k=new du(l,j);k.attrs={x:p,y:o,width:n,height:m,src:i};k.type="image";return k},dl=function(h,g,l,k){var j=dB("text");dB(j,{x:g,y:l,"text-anchor":"middle"});h.canvas&&h.canvas[aP](j);var i=new du(j,h);i.attrs={x:g,y:l,"text-anchor":"middle",text:k,font:cH.font,stroke:"none",fill:"#000"};i.type="text";dx(i,i.attrs);return i},dj=function(d,c){this.width=d||this.width;this.height=c||this.height;this.canvas[cR]("width",this.width);this.canvas[cR]("height",this.height);return this},dh=function(){var a=aV[aO](0,arguments),n=a&&a.container,m=a.x,l=a.y,k=a.width,j=a.height;if(!n){throw new Error("SVG container not found.")}var g=dB("svg");m=m||0;l=l||0;k=k||512;j=j||342;dB(g,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:k,height:j});if(n==1){g.style.cssText="position:absolute;left:"+m+"px;top:"+l+"px";aW.body[aP](g)}else{n.firstChild?n.insertBefore(g,n.firstChild):n[aP](g)}n=new aR;n.width=k;n.height=j;n.canvas=g;aT.call(n,n,a8.fn);n.clear();return n};aQ.clear=function(){var b=this.canvas;while(b.firstChild){b.removeChild(b.firstChild)}this.bottom=this.top=null;(this.desc=dB("desc"))[aP](aW.createTextNode("Created with Raphaël"));b[aP](this.desc);b[aP](this.defs=dB("defs"))};aQ.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var b in this){this[b]=dC(b)}}}if(a8.vml){var df={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},dd=/([clmz]),?([^clmz]*)/gi,db=/ progid:\S+Blur\([^\)]+\)/g,c9=/-?[^,\s-]+/g,dJ=1000+aH+1000,c3=10,aM={path:1,rect:1},aK=function(w){var v=/[ahqstv]/ig,u=b1;aF(w).match(v)&&(u=aZ);v=/[clmz]/g;if(u==b1&&!aF(w).match(v)){var t=aF(w)[b9](dd,function(h,g,x){var k=[],j=at.call(g)=="m",i=df[g];x[b9](c9,function(b){if(j&&k[av]==2){i+=k+df[g=="m"?"l":"L"];k=[]}k[c5](cU(b*c3))});return i+k});return t}var s=u(w),r,p;t=[];for(var o=0,n=s[av];o<n;o++){r=s[o];p=at.call(s[o][0]);p=="z"&&(p="x");for(var m=1,l=r[av];m<l;m++){p+=cU(r[m]*c3)+(m!=l-1?",":aJ)}t[c5](p)}return t[ax](aH)};a8[da]=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};dA=function(i,h){var n=aG("group");n.style.cssText="position:absolute;left:0;top:0;width:"+h.width+"px;height:"+h.height+"px";n.coordsize=h.coordsize;n.coordorigin=h.coordorigin;var m=aG("shape"),l=m.style;l.width=h.width+"px";l.height=h.height+"px";m.coordsize=dJ;m.coordorigin=h.coordorigin;n[aP](m);var k=new du(m,n,h),j={fill:"none",stroke:"#000"};i&&(j.path=i);k.type="path";k.path=[];k.Path=aJ;dx(k,j);h.canvas[aP](n);return k};dx=function(R,Q){R.attrs=R.attrs||{};var P=R.node,O=R.attrs,N=P.style,M,L=(Q.x!=O.x||Q.y!=O.y||Q.width!=O.width||Q.height!=O.height||Q.r!=O.r)&&R.type=="rect",K=R;for(var J in Q){Q[aY](J)&&(O[J]=Q[J])}if(L){O.path=aI(O.x,O.y,O.width,O.height,O.r);R.X=O.x;R.Y=O.y;R.W=O.width;R.H=O.height}Q.href&&(P.href=Q.href);Q.title&&(P.title=Q.title);Q.target&&(P.target=Q.target);Q.cursor&&(N.cursor=Q.cursor);"blur" in Q&&R.blur(Q.blur);if(Q.path&&R.type=="path"||L){P.path=aK(O.path)}Q.rotation!=null&&R.rotate(Q.rotation,true);if(Q.translation){M=aF(Q.translation)[aD](a6);aa.call(R,M[0],M[1]);if(R._.rt.cx!=null){R._.rt.cx+=+M[0];R._.rt.cy+=+M[1];R.setBox(R.attrs,M[0],M[1])}}if(Q.scale){M=aF(Q.scale)[aD](a6);R.scale(+M[0]||1,+M[1]||+M[0]||1,+M[2]||null,+M[3]||null)}if("clip-rect" in Q){var I=aF(Q["clip-rect"])[aD](a6);if(I[av]==4){I[2]=+I[2]+ +I[0];I[3]=+I[3]+ +I[1];var H=P.clipRect||aW.createElement("div"),s=H.style,p=P.parentNode;s.clip=a8.format("rect({1}px {2}px {3}px {0}px)",I);if(!P.clipRect){s.position="absolute";s.top=0;s.left=0;s.width=R.paper.width+"px";s.height=R.paper.height+"px";p.parentNode.insertBefore(H,p);H[aP](p);P.clipRect=H}}Q["clip-rect"]||P.clipRect&&(P.clipRect.style.clip=aJ)}R.type=="image"&&Q.src&&(P.src=Q.src);if(R.type=="image"&&Q.opacity){P.filterOpacity=cL+".Alpha(opacity="+Q.opacity*100+")";N.filter=(P.filterMatrix||aJ)+(P.filterOpacity||aJ)}Q.font&&(N.font=Q.font);Q["font-family"]&&(N.fontFamily='"'+Q["font-family"][aD](",")[0][b9](/^['"]+|['"]+$/g,aJ)+'"');Q["font-size"]&&(N.fontSize=Q["font-size"]);Q["font-weight"]&&(N.fontWeight=Q["font-weight"]);Q["font-style"]&&(N.fontStyle=Q["font-style"]);if(Q.opacity!=null||Q["stroke-width"]!=null||Q.fill!=null||Q.stroke!=null||Q["stroke-width"]!=null||Q["stroke-opacity"]!=null||Q["fill-opacity"]!=null||Q["stroke-dasharray"]!=null||Q["stroke-miterlimit"]!=null||Q["stroke-linejoin"]!=null||Q["stroke-linecap"]!=null){P=R.shape||P;var g=P.getElementsByTagName(c8)&&P.getElementsByTagName(c8)[0],b=false;!g&&(b=g=aG(c8));if("fill-opacity" in Q||"opacity" in Q){var a=((+O["fill-opacity"]+1||2)-1)*((+O.opacity+1||2)-1)*((+a8.getRGB(Q.fill).o+1||2)-1);a=dp(ao(a,0),1);g.opacity=a}Q.fill&&(g.on=true);if(g.on==null||Q.fill=="none"){g.on=false}if(g.on&&Q.fill){var A=Q.fill.match(c4);if(A){g.src=A[1];g.type="tile"}else{g.color=a8.getRGB(Q.fill).hex;g.src=aJ;g.type="solid";if(a8.getRGB(Q.fill).error&&(K.type in {circle:1,ellipse:1}||aF(Q.fill).charAt()!="r")&&dz(K,Q.fill)){O.fill="none";O.gradient=Q.fill}}}b&&P[aP](g);var z=P.getElementsByTagName("stroke")&&P.getElementsByTagName("stroke")[0],w=false;!z&&(w=z=aG("stroke"));if(Q.stroke&&Q.stroke!="none"||Q["stroke-width"]||Q["stroke-opacity"]!=null||Q["stroke-dasharray"]||Q["stroke-miterlimit"]||Q["stroke-linejoin"]||Q["stroke-linecap"]){z.on=true}(Q.stroke=="none"||z.on==null||Q.stroke==0||Q["stroke-width"]==0)&&(z.on=false);var r=a8.getRGB(Q.stroke);z.on&&Q.stroke&&(z.color=r.hex);a=((+O["stroke-opacity"]+1||2)-1)*((+O.opacity+1||2)-1)*((+r.o+1||2)-1);var l=(cP(Q["stroke-width"])||1)*0.75;a=dp(ao(a,0),1);Q["stroke-width"]==null&&(l=O["stroke-width"]);Q["stroke-width"]&&(z.weight=l);l&&l<1&&(a*=l)&&(z.weight=1);z.opacity=a;Q["stroke-linejoin"]&&(z.joinstyle=Q["stroke-linejoin"]||"miter");z.miterlimit=Q["stroke-miterlimit"]||8;Q["stroke-linecap"]&&(z.endcap=Q["stroke-linecap"]=="butt"?"flat":Q["stroke-linecap"]=="square"?"square":"round");if(Q["stroke-dasharray"]){var f={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};z.dashstyle=f[aY](Q["stroke-dasharray"])?f[Q["stroke-dasharray"]]:aJ}w&&P[aP](z)}if(K.type=="text"){N=K.paper.span.style;O.font&&(N.font=O.font);O["font-family"]&&(N.fontFamily=O["font-family"]);O["font-size"]&&(N.fontSize=O["font-size"]);O["font-weight"]&&(N.fontWeight=O["font-weight"]);O["font-style"]&&(N.fontStyle=O["font-style"]);K.node.string&&(K.paper.span.innerHTML=aF(K.node.string)[b9](/</g,"&#60;")[b9](/&/g,"&#38;")[b9](/\n/g,"<br>"));K.W=O.w=K.paper.span.offsetWidth;K.H=O.h=K.paper.span.offsetHeight;K.X=O.x;K.Y=O.y+cU(K.H/2);switch(O["text-anchor"]){case"start":K.node.style["v-text-align"]="left";K.bbx=cU(K.W/2);break;case"end":K.node.style["v-text-align"]="right";K.bbx=-cU(K.W/2);break;default:K.node.style["v-text-align"]="center";break}}};dz=function(w,v){w.attrs=w.attrs||{};var u=w.attrs,t,s="linear",r=".5 .5";w.attrs.gradient=v;v=aF(v)[b9](cQ,function(e,d,f){s="radial";if(d&&f){d=cP(d);f=cP(f);dk(d-0.5,2)+dk(f-0.5,2)>0.25&&(f=aq.sqrt(0.25-dk(d-0.5,2))*((f>0.5)*2-1)+0.5);r=d+aH+f}return aJ});v=v[aD](/\s*\-\s*/);if(s=="linear"){var p=v.shift();p=-cP(p);if(isNaN(p)){return null}}var o=aX(v);if(!o){return null}w=w.shape||w.node;t=w.getElementsByTagName(c8)[0]||aG(c8);!t.parentNode&&w.appendChild(t);if(o[av]){t.on=true;t.method="none";t.color=o[0].color;t.color2=o[o[av]-1].color;var n=[];for(var m=0,l=o[av];m<l;m++){o[m].offset&&n[c5](o[m].offset+aH+o[m].color)}t.colors&&(t.colors.value=n[av]?n[ax]():"0% "+t.color);if(s=="radial"){t.type="gradientradial";t.focus="100%";t.focussize=r;t.focusposition=r}else{t.type="gradient";t.angle=(270-p)%360}}return 1};du=function(a,n,m){var l=0,k=0,j=0,i=1;this[0]=a;this.id=a8._oid++;this.node=a;a.raphael=this;this.X=0;this.Y=0;this.attrs={};this.Group=n;this.paper=m;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!m.bottom&&(m.bottom=this);this.prev=m.top;m.top&&(m.top.next=this);m.top=this;this.next=null};dt=du[a0];dt.rotate=function(b,f,e){if(this.removed){return this}if(b==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][ax](aH)}return this._.rt.deg}b=aF(b)[aD](a6);if(b[av]-1){f=cP(b[1]);e=cP(b[2])}b=cP(b[0]);f!=null?this._.rt.deg=b:this._.rt.deg+=b;e==null&&(f=null);this._.rt.cx=f;this._.rt.cy=e;this.setBox(this.attrs,f,e);this.Group.style.rotation=this._.rt.deg;return this};dt.setBox=function(D,C,B){if(this.removed){return this}var A=this.Group.style,z=this.shape&&this.shape.style||this.node.style;D=D||{};for(var y in D){D[aY](y)&&(this.attrs[y]=D[y])}C=C||this._.rt.cx;B=B||this._.rt.cy;var x=this.attrs,w,v,u,t;switch(this.type){case"circle":w=x.cx-x.r;v=x.cy-x.r;u=t=x.r*2;break;case"ellipse":w=x.cx-x.rx;v=x.cy-x.ry;u=x.rx*2;t=x.ry*2;break;case"image":w=+x.x;v=+x.y;u=x.width||0;t=x.height||0;break;case"text":this.textpath.v=["m",cU(x.x),", ",cU(x.y-2),"l",cU(x.x)+1,", ",cU(x.y-2)][ax](aJ);w=x.x-cU(this.W/2);v=x.y-this.H/2;u=this.W;t=this.H;break;case"rect":case"path":if(this.attrs.path){var s=b4(this.attrs.path);w=s.x;v=s.y;u=s.width;t=s.height}else{w=0;v=0;u=this.paper.width;t=this.paper.height}break;default:w=0;v=0;u=this.paper.width;t=this.paper.height;break}C=C==null?w+u/2:C;B=B==null?v+t/2:B;var r=C-this.paper.width/2,p=B-this.paper.height/2,f;A.left!=(f=r+"px")&&(A.left=f);A.top!=(f=p+"px")&&(A.top=f);this.X=aM[aY](this.type)?-r:w;this.Y=aM[aY](this.type)?-p:v;this.W=u;this.H=t;if(aM[aY](this.type)){z.left!=(f=-r*c3+"px")&&(z.left=f);z.top!=(f=-p*c3+"px")&&(z.top=f)}else{if(this.type=="text"){z.left!=(f=-r+"px")&&(z.left=f);z.top!=(f=-p+"px")&&(z.top=f)}else{A.width!=(f=this.paper.width+"px")&&(A.width=f);A.height!=(f=this.paper.height+"px")&&(A.height=f);z.left!=(f=w-r+"px")&&(z.left=f);z.top!=(f=v-p+"px")&&(z.top=f);z.width!=(f=u+"px")&&(z.width=f);z.height!=(f=t+"px")&&(z.height=f)}}};dt.hide=function(){!this.removed&&(this.Group.style.display="none");return this};dt.show=function(){!this.removed&&(this.Group.style.display="block");return this};dt.getBBox=function(){if(this.removed){return this}if(aM[aY](this.type)){return b4(this.attrs.path)}return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};dt.remove=function(){if(this.removed){return}dH(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var b in this){delete this[b]}this.removed=true};dt.attr=function(u,t){if(this.removed){return this}if(u==null){var s={};for(var r in this.attrs){this.attrs[aY](r)&&(s[r]=this.attrs[r])}this._.rt.deg&&(s.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(s.scale=this.scale());s.gradient&&s.fill=="none"&&(s.fill=s.gradient)&&delete s.gradient;return s}if(t==null&&a8.is(u,"string")){if(u=="translation"){return aa.call(this)}if(u=="rotation"){return this.rotate()}if(u=="scale"){return this.scale()}if(u==c8&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[u]}if(this.attrs&&t==null&&a8.is(u,dc)){var p,o={};for(r=0,p=u[av];r<p;r++){o[u[r]]=this.attr(u[r])}return o}var n;if(t!=null){n={};n[u]=t}t==null&&a8.is(u,"object")&&(n=u);if(n){for(var m in this.paper.customAttributes){if(this.paper.customAttributes[aY](m)&&n[aY](m)&&a8.is(this.paper.customAttributes[m],"function")){var f=this.paper.customAttributes[m].apply(this,[][aN](n[m]));this.attrs[m]=n[m];for(var a in f){f[aY](a)&&(n[a]=f[a])}}}n.text&&this.type=="text"&&(this.node.string=n.text);dx(this,n);n.gradient&&(({circle:1,ellipse:1})[aY](this.type)||aF(n.gradient).charAt()!="r")&&dz(this,n.gradient);(!aM[aY](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this};dt.toFront=function(){!this.removed&&this.Group.parentNode[aP](this.Group);this.paper.top!=this&&dG(this,this.paper);return this};dt.toBack=function(){if(this.removed){return this}if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);dF(this,this.paper)}return this};dt.insertAfter=function(b){if(this.removed){return this}b.constructor==cV&&(b=b[b.length-1]);b.Group.nextSibling?b.Group.parentNode.insertBefore(this.Group,b.Group.nextSibling):b.Group.parentNode[aP](this.Group);dE(this,b,this.paper);return this};dt.insertBefore=function(b){if(this.removed){return this}b.constructor==cV&&(b=b[0]);b.Group.parentNode.insertBefore(this.Group,b.Group);dD(this,b,this.paper);return this};dt.blur=function(a){var f=this.node.runtimeStyle,e=f.filter;e=e.replace(db,aJ);if(+a!==0){this.attrs.blur=a;f.filter=e+aH+cL+".Blur(pixelradius="+(+a||1.5)+")";f.margin=a8.format("-{0}px 0 0 -{0}px",cU(+a||1.5))}else{f.filter=e;f.margin=0;delete this.attrs.blur}};ds=function(j,i,p,o){var n=aG("group"),m=aG("oval"),l=m.style;n.style.cssText="position:absolute;left:0;top:0;width:"+j.width+"px;height:"+j.height+"px";n.coordsize=dJ;n.coordorigin=j.coordorigin;n[aP](m);var k=new du(m,n,j);k.type="circle";dx(k,{stroke:"#000",fill:"none"});k.attrs.cx=i;k.attrs.cy=p;k.attrs.r=o;k.setBox({x:i-o,y:p-o,width:o*2,height:o*2});j.canvas[aP](n);return k};function aI(a,j,i,h,g){return g?a8.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",a+g,j,i-g*2,g,-g,h-g*2,g*2-i,g*2-h):a8.format("M{0},{1}l{2},0,0,{3},{4},0z",a,j,i,h,-i)}dr=function(s,r,p,o,n,m){var l=aI(r,p,o,n,m),k=s.path(l),j=k.attrs;k.X=j.x=r;k.Y=j.y=p;k.W=j.width=o;k.H=j.height=n;j.r=m;j.path=l;k.type="rect";return k};dq=function(s,r,p,o,n){var m=aG("group"),l=aG("oval"),k=l.style;m.style.cssText="position:absolute;left:0;top:0;width:"+s.width+"px;height:"+s.height+"px";m.coordsize=dJ;m.coordorigin=s.coordorigin;m[aP](l);var j=new du(l,m,s);j.type="ellipse";dx(j,{stroke:"#000"});j.attrs.cx=r;j.attrs.cy=p;j.attrs.rx=o;j.attrs.ry=n;j.setBox({x:r-o,y:p-n,width:o*2,height:n*2});s.canvas[aP](m);return j};dn=function(s,r,p,o,n,m){var l=aG("group"),k=aG("image");l.style.cssText="position:absolute;left:0;top:0;width:"+s.width+"px;height:"+s.height+"px";l.coordsize=dJ;l.coordorigin=s.coordorigin;k.src=r;l[aP](k);var j=new du(k,l,s);j.type="image";j.attrs.src=r;j.attrs.x=p;j.attrs.y=o;j.attrs.w=n;j.attrs.h=m;j.setBox({x:p,y:o,width:n,height:m});s.canvas[aP](l);return j};dl=function(w,v,u,t){var s=aG("group"),r=aG("shape"),p=r.style,o=aG("path"),n=o.style,l=aG("textpath");s.style.cssText="position:absolute;left:0;top:0;width:"+w.width+"px;height:"+w.height+"px";s.coordsize=dJ;s.coordorigin=w.coordorigin;o.v=a8.format("m{0},{1}l{2},{1}",cU(v*10),cU(u*10),cU(v*10)+1);o.textpathok=true;p.width=w.width;p.height=w.height;l.string=aF(t);l.on=true;r[aP](l);r[aP](o);s[aP](r);var a=new du(l,s,w);a.shape=r;a.textpath=o;a.type="text";a.attrs.text=t;a.attrs.x=v;a.attrs.y=u;a.attrs.w=1;a.attrs.h=1;dx(a,{font:cH.font,stroke:"none",fill:"#000"});a.setBox();w.canvas[aP](s);return a};dj=function(e,d){var f=this.canvas.style;e==+e&&(e+="px");d==+d&&(d+="px");f.width=e;f.height=d;f.clip="rect(0 "+e+" "+d+" 0)";return this};var aG;aW.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!aW.namespaces.rvml&&aW.namespaces.add("rvml","urn:schemas-microsoft-com:vml");aG=function(b){return aW.createElement("<rvml:"+b+' class="rvml">')}}catch(a8){aG=function(b){return aW.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}dh=function(){var u=aV[aO](0,arguments),t=u.container,s=u.height,r,p=u.width,m=u.x,l=u.y;if(!t){throw new Error("VML container not found.")}var j=new aR,g=j.canvas=aW.createElement("div"),a=g.style;m=m||0;l=l||0;p=p||512;s=s||342;p==+p&&(p+="px");s==+s&&(s+="px");j.width=1000;j.height=1000;j.coordsize=c3*1000+aH+c3*1000;j.coordorigin="0 0";j.span=aW.createElement("span");j.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";g[aP](j.span);a.cssText=a8.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",p,s);if(t==1){aW.body[aP](g);a.left=m+"px";a.top=l+"px";a.position="absolute"}else{t.firstChild?t.insertBefore(g,t.firstChild):t[aP](g)}aT.call(j,j,a8.fn);return j};aQ.clear=function(){this.canvas.innerHTML=aJ;this.span=aW.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas[aP](this.span);this.bottom=this.top=null};aQ.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var b in this){this[b]=dC(b)}return true}}var aE=navigator.userAgent.match(/Version\\x2f(.*?)\s/);navigator.vendor=="Apple Computer, Inc."&&(aE&&aE[1]<4||navigator.platform.slice(0,2)=="iP")?aQ.safari=function(){var b=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});aU.setTimeout(function(){b.remove()})}:aQ.safari=function(){};var aC=function(){this.returnValue=false},aA=function(){return this.originalEvent.preventDefault()},ay=function(){this.cancelBubble=true},aw=function(){return this.originalEvent.stopPropagation()},au=(function(){if(aW.addEventListener){return function(h,f,l,k){var j=aL&&az[f]?az[f]:f,i=function(d){if(aL&&az[aY](f)){for(var c=0,b=d.targetTouches&&d.targetTouches.length;c<b;c++){if(d.targetTouches[c].target==h){var a=d;d=d.targetTouches[c];d.originalEvent=a;d.preventDefault=aA;d.stopPropagation=aw;break}}}return l.call(k,d)};h.addEventListener(j,i,false);return function(){h.removeEventListener(j,i,false);return true}}}if(aW.attachEvent){return function(h,g,l,k){var j=function(b){b=b||aU.event;b.preventDefault=b.preventDefault||aC;b.stopPropagation=b.stopPropagation||ay;return l.call(k,b)};h.attachEvent("on"+g,j);var i=function(){h.detachEvent("on"+g,j);return true};return i}}})(),ar=[],ap=function(s){var r=s.clientX,p=s.clientY,o=aW.documentElement.scrollTop||aW.body.scrollTop,n=aW.documentElement.scrollLeft||aW.body.scrollLeft,m,l=ar.length;while(l--){m=ar[l];if(aL){var k=s.touches.length,g;while(k--){g=s.touches[k];if(g.identifier==m.el._drag.id){r=g.clientX;p=g.clientY;(s.originalEvent?s.originalEvent:s).preventDefault();break}}}else{s.preventDefault()}r+=n;p+=o;m.move&&m.move.call(m.move_scope||m.el,r-m.el._drag.x,p-m.el._drag.y,r,p,s)}},an=function(a){a8.unmousemove(ap).unmouseup(an);var f=ar.length,e;while(f--){e=ar[f];e.el._drag={};e.end&&e.end.call(e.end_scope||e.start_scope||e.move_scope||e.el,a)}ar=[]};for(var am=aB[av];am--;){(function(a){a8[a]=du[a0][a]=function(e,b){if(a8.is(e,"function")){this.events=this.events||[];this.events.push({name:a,f:e,unbind:au(this.shape||this.node||aW,a,e,b||this)})}return this};a8["un"+a]=du[a0]["un"+a]=function(b){var f=this.events,e=f[av];while(e--){if(f[e].name==a&&f[e].f==b){f[e].unbind();f.splice(e,1);!f.length&&delete this.events;return this}}return this}})(aB[am])}dt.hover=function(f,e,h,g){return this.mouseover(f,h).mouseout(e,g||h)};dt.unhover=function(d,c){return this.unmouseover(d).unmouseout(c)};dt.drag=function(a,l,k,j,i,g){this._drag={};this.mousedown(function(d){(d.originalEvent||d).preventDefault();var c=aW.documentElement.scrollTop||aW.body.scrollTop,b=aW.documentElement.scrollLeft||aW.body.scrollLeft;this._drag.x=d.clientX+b;this._drag.y=d.clientY+c;this._drag.id=d.identifier;l&&l.call(i||j||this,d.clientX+b,d.clientY+c,d);!ar.length&&a8.mousemove(ap).mouseup(an);ar.push({el:this,move:a,end:k,move_scope:j,start_scope:i,end_scope:g})});return this};dt.undrag=function(a,h,g){var f=ar.length;while(f--){ar[f].el==this&&(ar[f].move==a&&ar[f].end==g)&&ar.splice(f++,1)}!ar.length&&a8.unmousemove(ap).unmouseup(an)};aQ.circle=function(e,d,f){return ds(this,e||0,d||0,f||0)};aQ.rect=function(g,f,j,i,h){return dr(this,g||0,f||0,j||0,i||0,h||0)};aQ.ellipse=function(f,e,h,g){return dq(this,f||0,e||0,h||0,g||0)};aQ.path=function(a){a&&!a8.is(a,de)&&!a8.is(a[0],dc)&&(a+=aJ);return dA(a8.format[aO](a8,arguments),this)};aQ.image=function(g,f,j,i,h){return dn(this,g||"about:blank",f||0,j||0,i||0,h||0)};aQ.text=function(e,d,f){return dl(this,e||0,d||0,aF(f))};aQ.set=function(b){arguments[av]>1&&(b=Array[a0].splice.call(arguments,0,arguments[av]));return new cV(b)};aQ.setSize=dj;aQ.top=aQ.bottom=null;aQ.raphael=a8;function al(){return this.x+aH+this.y}dt.resetScale=function(){if(this.removed){return this}this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};dt.scale=function(bw,bv,bu,bt){if(this.removed){return this}if(bw==null&&bv==null){return{x:this._.sx,y:this._.sy,toString:al}}bv=bv||bw;!(+bv)&&(bv=bw);var bs,br,bq,bp,bo=this.attrs;if(bw!=0){var bn=this.getBBox(),bm=bn.x+bn.width/2,bl=bn.y+bn.height/2,bk=dm(bw/this._.sx),bj=dm(bv/this._.sy);bu=+bu||bu==0?bu:bm;bt=+bt||bt==0?bt:bl;var bi=this._.sx>0,bh=this._.sy>0,bg=~(~(bw/dm(bw))),bf=~(~(bv/dm(bv))),be=bk*bg,bd=bj*bf,bc=this.node.style,bb=bu+dm(bm-bu)*be*(bm>bu==bi?1:-1),ba=bt+dm(bl-bt)*bd*(bl>bt==bh?1:-1),Z=bw*bg>bv*bf?bj:bk;switch(this.type){case"rect":case"image":var Y=bo.width*bk,X=bo.height*bj;this.attr({height:X,r:bo.r*Z,width:Y,x:bb-Y/2,y:ba-X/2});break;case"circle":case"ellipse":this.attr({rx:bo.rx*bk,ry:bo.ry*bj,r:bo.r*Z,cx:bb,cy:ba});break;case"text":this.attr({x:bb,y:ba});break;case"path":var W=b2(bo.path),V=true,U=bi?be:bk,T=bh?bd:bj;for(var S=0,R=W[av];S<R;S++){var B=W[S],w=cJ.call(B[0]);if(w=="M"&&V){continue}V=false;if(w=="A"){B[W[S][av]-2]*=U;B[W[S][av]-1]*=T;B[1]*=bk;B[2]*=bj;B[5]=+(bg+bf?!(!(+B[5])):!(+B[5]))}else{if(w=="H"){for(var v=1,p=B[av];v<p;v++){B[v]*=U}}else{if(w=="V"){for(v=1,p=B[av];v<p;v++){B[v]*=T}}else{for(v=1,p=B[av];v<p;v++){B[v]*=v%2?U:T}}}}}var n=b4(W);bs=bb-n.x-n.width/2;br=ba-n.y-n.height/2;W[0][1]+=bs;W[0][2]+=br;this.attr({path:W});break}if(this.type in {text:1,image:1}&&(bg!=1||bf!=1)){if(this.transformations){this.transformations[2]="scale("[aN](bg,",",bf,")");this.node[cR]("transform",this.transformations[ax](aH));bs=bg==-1?-bo.x-(Y||0):bo.x;br=bf==-1?-bo.y-(X||0):bo.y;this.attr({x:bs,y:br});bo.fx=bg-1;bo.fy=bf-1}else{this.node.filterMatrix=cL+".Matrix(M11="[aN](bg,", M12=0, M21=0, M22=",bf,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");bc.filter=(this.node.filterMatrix||aJ)+(this.node.filterOpacity||aJ)}}else{if(this.transformations){this.transformations[2]=aJ;this.node[cR]("transform",this.transformations[ax](aH));bo.fx=0;bo.fy=0}else{this.node.filterMatrix=aJ;bc.filter=(this.node.filterMatrix||aJ)+(this.node.filterOpacity||aJ)}}bo.scale=[bw,bv,bu,bt][ax](aH);this._.sx=bw;this._.sy=bv}return this};dt.clone=function(){if(this.removed){return null}var b=this.attr();delete b.scale;delete b.translation;return this.paper[this.type]().attr(b)};var ak={},aj=function(H,G,F,E,D,C,B,A,z){var y=0,x=100,w=[H,G,F,E,D,C,B,A].join(),v=ak[w],u,t;!v&&(ak[w]=v={data:[]});v.timer&&clearTimeout(v.timer);v.timer=setTimeout(function(){delete ak[w]},2000);if(z!=null){var s=aj(H,G,F,E,D,C,B,A);x=~(~s)*10}for(var a=0;a<x+1;a++){if(v.data[z]>a){t=v.data[a*x]}else{t=a8.findDotsAtSegment(H,G,F,E,D,C,B,A,a/x);v.data[a]=t}a&&(y+=dk(dk(u.x-t.x,2)+dk(u.y-t.y,2),0.5));if(z!=null&&y>=z){return t}u=t}if(z==null){return y}},ai=function(a,d){return function(B,A,z){B=aZ(B);var y,x,w,v,u="",t={},s,r=0;for(var c=0,b=B.length;c<b;c++){w=B[c];if(w[0]=="M"){y=+w[1];x=+w[2]}else{v=aj(y,x,w[1],w[2],w[3],w[4],w[5],w[6]);if(r+v>A){if(d&&!t.start){s=aj(y,x,w[1],w[2],w[3],w[4],w[5],w[6],A-r);u+=["C",s.start.x,s.start.y,s.m.x,s.m.y,s.x,s.y];if(z){return u}t.start=u;u=["M",s.x,s.y+"C",s.n.x,s.n.y,s.end.x,s.end.y,w[5],w[6]][ax]();r+=v;y=+w[5];x=+w[6];continue}if(!a&&!d){s=aj(y,x,w[1],w[2],w[3],w[4],w[5],w[6],A-r);return{x:s.x,y:s.y,alpha:s.alpha}}}r+=v;y=+w[5];x=+w[6]}u+=w}t.end=u;s=a?r:d?t:a8.findDotsAtSegment(y,x,w[1],w[2],w[3],w[4],w[5],w[6],1);s.alpha&&(s={x:s.x,y:s.y,alpha:s.alpha});return s}},ah=ai(1),ag=ai(),af=ai(0,1);dt.getTotalLength=function(){if(this.type!="path"){return}if(this.node.getTotalLength){return this.node.getTotalLength()}return ah(this.attrs.path)};dt.getPointAtLength=function(b){if(this.type!="path"){return}return ag(this.attrs.path,b)};dt.getSubpath=function(e,d){if(this.type!="path"){return}if(dm(this.getTotalLength()-d)<"1e-6"){return af(this.attrs.path,e).end}var f=af(this.attrs.path,d,1);return e?af(f,e).end:f};a8.easing_formulas={linear:function(b){return b},"<":function(b){return dk(b,3)},">":function(b){return dk(b-1,3)+1},"<>":function(b){b=b*2;if(b<1){return dk(b,3)/2}b-=2;return(dk(b,3)+2)/2},backIn:function(d){var c=1.70158;return d*d*((c+1)*d-c)},backOut:function(d){d=d-1;var c=1.70158;return d*d*((c+1)*d+c)+1},elastic:function(e){if(e==0||e==1){return e}var d=0.3,f=d/4;return dk(2,-10*e)*aq.sin((e-f)*(2*di)/d)+1},bounce:function(f){var e=7.5625,h=2.75,g;if(f<1/h){g=e*f*f}else{if(f<2/h){f-=1.5/h;g=e*f*f+0.75}else{if(f<2.5/h){f-=2.25/h;g=e*f*f+0.9375}else{f-=2.625/h;g=e*f*f+0.984375}}}return g}};var ae=[],ad=function(){var U=+(new Date);for(var T=0;T<ae[av];T++){var S=ae[T];if(S.stop||S.el.removed){continue}var R=U-S.start,Q=S.ms,P=S.easing,O=S.from,N=S.diff,M=S.to,L=S.t,K=S.el,J={},I;if(R<Q){var F=P(R/Q);for(var D in O){if(O[aY](D)){switch(cF[D]){case"along":I=F*Q*N[D];M.back&&(I=M.len-I);var w=ag(M[D],I);K.translate(N.sx-N.x||0,N.sy-N.y||0);N.x=w.x;N.y=w.y;K.translate(w.x-N.sx,w.y-N.sy);M.rot&&K.rotate(N.r+w.alpha,w.x,w.y);break;case dg:I=+O[D]+F*Q*N[D];break;case"colour":I="rgb("+[ab(cU(O[D].r+F*Q*N[D].r)),ab(cU(O[D].g+F*Q*N[D].g)),ab(cU(O[D].b+F*Q*N[D].b))][ax](",")+")";break;case"path":I=[];for(var v=0,p=O[D][av];v<p;v++){I[v]=[O[D][v][0]];for(var f=1,a=O[D][v][av];f<a;f++){I[v][f]=+O[D][v][f]+F*Q*N[D][v][f]}I[v]=I[v][ax](aH)}I=I[ax](aH);break;case"csv":switch(D){case"translation":var H=F*Q*N[D][0]-L.x,G=F*Q*N[D][1]-L.y;L.x+=H;L.y+=G;I=H+aH+G;break;case"rotation":I=+O[D][0]+F*Q*N[D][0];O[D][1]&&(I+=","+O[D][1]+","+O[D][2]);break;case"scale":I=[+O[D][0]+F*Q*N[D][0],+O[D][1]+F*Q*N[D][1],2 in M[D]?M[D][2]:aJ,3 in M[D]?M[D][3]:aJ][ax](aH);break;case"clip-rect":I=[];v=4;while(v--){I[v]=+O[D][v]+F*Q*N[D][v]}break}break;default:var E=[].concat(O[D]);I=[];v=K.paper.customAttributes[D].length;while(v--){I[v]=+E[v]+F*Q*N[D][v]}break}J[D]=I}}K.attr(J);K._run&&K._run.call(K)}else{if(M.along){w=ag(M.along,M.len*!M.back);K.translate(N.sx-(N.x||0)+w.x-N.sx,N.sy-(N.y||0)+w.y-N.sy);M.rot&&K.rotate(N.r+w.alpha,w.x,w.y)}(L.x||L.y)&&K.translate(-L.x,-L.y);M.scale&&(M.scale+=aJ);K.attr(M);ae.splice(T--,1)}}a8.svg&&K&&K.paper&&K.paper.safari();ae[av]&&setTimeout(ad)},ac=function(a,l,k,j,i){var h=k-j;l.timeouts.push(setTimeout(function(){a8.is(i,"function")&&i.call(l);l.animate(a,h,a.easing)},j))},ab=function(b){return ao(dp(b,255),0)},aa=function(e,d){if(e==null){return{x:this._.tx,y:this._.ty,toString:al}}this._.tx+=+e;this._.ty+=+d;switch(this.type){case"circle":case"ellipse":this.attr({cx:+e+this.attrs.cx,cy:+d+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+e+this.attrs.x,y:+d+this.attrs.y});break;case"path":var f=b2(this.attrs.path);f[0][1]+=+e;f[0][2]+=+d;this.attr({path:f});break}return this};dt.animateWith=function(i,h,n,m,l){for(var k=0,j=ae.length;k<j;k++){ae[k].el.id==i.id&&(h.start=ae[k].start)}return this.animate(h,n,m,l)};dt.animateAlong=c1();dt.animateAlongBack=c1(1);function c1(a){return function(k,j,i,h){var b={back:a};a8.is(i,"function")?h=i:b.rot=i;k&&k.constructor==du&&(k=k.attrs.path);k&&(b.along=k);return this.animate(b,j,h)}}function cY(E,D,C,B,A,z){var y=3*D,x=3*(B-D)-y,w=1-y-x,v=3*C,u=3*(A-C)-v,t=1-v-u;function s(b){return((w*b+x)*b+y)*b}function r(e,d){var f=p(e,d);return((t*f+u)*f+v)*f}function p(h,g){var F,o,n,m,l,i;for(n=h,i=0;i<8;i++){m=s(n)-h;if(dm(m)<g){return n}l=(3*w*n+2*x)*n+y;if(dm(l)<0.000001){break}n=n-m/l}F=0;o=1;n=h;if(n<F){return F}if(n>o){return o}while(F<o){m=s(n);if(dm(m-h)<g){return n}h>m?F=n:o=n;n=(o-F)/2+F}return n}return r(E,1/(200*z))}dt.onAnimation=function(b){this._run=b||0;return this};dt.animate=function(bb,ba,Z,Y){var X=this;X.timeouts=X.timeouts||[];if(a8.is(Z,"function")||!Z){Y=Z||null}if(X.removed){Y&&Y.call(X);return X}var W={},V={},U=false,T={};for(var S in bb){if(bb[aY](S)){if(cF[aY](S)||X.paper.customAttributes[aY](S)){U=true;W[S]=X.attr(S);W[S]==null&&(W[S]=cH[S]);V[S]=bb[S];switch(cF[S]){case"along":var R=ah(bb[S]),Q=ag(bb[S],R*!(!bb.back)),P=X.getBBox();T[S]=R/ba;T.tx=P.x;T.ty=P.y;T.sx=Q.x;T.sy=Q.y;V.rot=bb.rot;V.back=bb.back;V.len=R;bb.rot&&(T.r=cP(X.rotate())||0);break;case dg:T[S]=(V[S]-W[S])/ba;break;case"colour":W[S]=a8.getRGB(W[S]);var N=a8.getRGB(V[S]);T[S]={r:(N.r-W[S].r)/ba,g:(N.g-W[S].g)/ba,b:(N.b-W[S].b)/ba};break;case"path":var J=aZ(W[S],V[S]);W[S]=J[0];var I=J[1];T[S]=[];for(var w=0,f=W[S][av];w<f;w++){T[S][w]=[0];for(var b=1,a=W[S][w][av];b<a;b++){T[S][w][b]=(I[w][b]-W[S][w][b])/ba}}break;case"csv":var O=aF(bb[S])[aD](a6),M=aF(W[S])[aD](a6);switch(S){case"translation":W[S]=[0,0];T[S]=[O[0]/ba,O[1]/ba];break;case"rotation":W[S]=M[1]==O[1]&&M[2]==O[2]?M:[0,O[1],O[2]];T[S]=[(O[0]-W[S][0])/ba,0,0];break;case"scale":bb[S]=O;W[S]=aF(W[S])[aD](a6);T[S]=[(O[0]-W[S][0])/ba,(O[1]-W[S][1])/ba,0,0];break;case"clip-rect":W[S]=aF(W[S])[aD](a6);T[S]=[];w=4;while(w--){T[S][w]=(O[w]-W[S][w])/ba}break}V[S]=O;break;default:O=[].concat(bb[S]);M=[].concat(W[S]);T[S]=[];w=X.paper.customAttributes[S][av];while(w--){T[S][w]=((O[w]||0)-(M[w]||0))/ba}break}}}}if(U){var s=a8.easing_formulas[Z];if(!s){s=aF(Z).match(cX);if(s&&s[av]==5){var r=s;s=function(c){return cY(c,+r[1],+r[2],+r[3],+r[4],ba)}}else{s=function(c){return c}}}ae.push({start:bb.start||+(new Date),ms:ba,easing:s,from:W,diff:T,to:V,el:X,t:{x:0,y:0}});a8.is(Y,"function")&&(X._ac=setTimeout(function(){Y.call(X)},ba));ae[av]==1&&setTimeout(ad)}else{var L=[],K;for(var E in bb){if(bb[aY](E)&&b7.test(E)){S={value:bb[E]};E=="from"&&(E=0);E=="to"&&(E=100);S.key=cN(E,10);L.push(S)}}L.sort(cO);L[0].key&&L.unshift({key:0,value:X.attrs});for(w=0,f=L[av];w<f;w++){ac(L[w].value,X,ba/100*L[w].key,ba/100*(L[w-1]&&L[w-1].key||0),L[w-1]&&L[w-1].value.callback)}K=L[L[av]-1].value.callback;K&&X.timeouts.push(setTimeout(function(){K.call(X)},ba))}return this};dt.stop=function(){for(var b=0;b<ae.length;b++){ae[b].el.id==this.id&&ae.splice(b--,1)}for(b=0,ii=this.timeouts&&this.timeouts.length;b<ii;b++){clearTimeout(this.timeouts[b])}this.timeouts=[];clearTimeout(this._ac);delete this._ac;return this};dt.translate=function(d,c){return this.attr({translation:d+" "+c})};dt[da]=function(){return"Raphaël’s object"};a8.ae=ae;var cV=function(e){this.items=[];this[av]=0;this.type="set";if(e){for(var d=0,f=e[av];d<f;d++){if(e[d]&&(e[d].constructor==du||e[d].constructor==cV)){this[this.items[av]]=this.items[this.items[av]]=e[d];this[av]++}}}};cV[a0][c5]=function(){var f,e;for(var h=0,g=arguments[av];h<g;h++){f=arguments[h];if(f&&(f.constructor==du||f.constructor==cV)){e=this.items[av];this[e]=this.items[e]=f;this[av]++}}return this};cV[a0].pop=function(){delete this[this[av]--];return this.items.pop()};for(var cS in dt){dt[aY](cS)&&(cV[a0][cS]=(function(b){return function(){for(var a=0,d=this.items[av];a<d;a++){this.items[a][b][aO](this.items[a],arguments)}return this}})(cS))}cV[a0].attr=function(a,l){if(a&&a8.is(a,dc)&&a8.is(a[0],"object")){for(var k=0,j=a[av];k<j;k++){this.items[k].attr(a[k])}}else{for(var i=0,h=this.items[av];i<h;i++){this.items[i].attr(a,l)}}return this};cV[a0].animate=function(s,r,p,o){(a8.is(p,"function")||!p)&&(o=p||null);var n=this.items[av],m=n,l,k=this,a;o&&(a=function(){!(--n)&&o.call(k)});p=a8.is(p,de)?p:a;l=this.items[--m].animate(s,r,p,a);while(m--){this.items[m]&&!this.items[m].removed&&this.items[m].animateWith(l,s,r,p,a)}return this};cV[a0].insertAfter=function(d){var c=this.items[av];while(c--){this.items[c].insertAfter(d)}return this};cV[a0].getBBox=function(){var h=[],g=[],l=[],k=[];for(var j=this.items[av];j--;){var i=this.items[j].getBBox();h[c5](i.x);g[c5](i.y);l[c5](i.x+i.width);k[c5](i.y+i.height)}h=dp[aO](0,h);g=dp[aO](0,g);return{x:h,y:g,width:ao[aO](0,l)-h,height:ao[aO](0,k)-g}};cV[a0].clone=function(e){e=new cV;for(var d=0,f=this.items[av];d<f;d++){e[c5](this.items[d].clone())}return e};a8.registerFont=function(i){if(!i.face){return i}this.fonts=this.fonts||{};var f={w:i.w,face:{},glyphs:{}},n=i.face["font-family"];for(var m in i.face){i.face[aY](m)&&(f.face[m]=i.face[m])}this.fonts[n]?this.fonts[n][c5](f):this.fonts[n]=[f];if(!i.svg){f.face["units-per-em"]=cN(i.face["units-per-em"],10);for(var l in i.glyphs){if(i.glyphs[aY](l)){var k=i.glyphs[l];f.glyphs[l]={w:k.w,k:{},d:k.d&&"M"+k.d[b9](/[mlcxtrv]/g,function(b){return({l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"})[b]||"M"})+"z"};if(k.k){for(var j in k.k){k[aY](j)&&(f.glyphs[l].k[j]=k.k[j])}}}}}return i};aQ.getFont=function(u,t,s,r){r=r||"normal";s=s||"normal";t=+t||({normal:400,bold:700,lighter:300,bolder:800})[t]||400;if(!a8.fonts){return}var p=a8.fonts[u];if(!p){var o=new RegExp("(^|\\s)"+u[b9](/[^\w\d\s+!~.:_-]/g,aJ)+"(\\s|$)","i");for(var n in a8.fonts){if(a8.fonts[aY](n)){if(o.test(n)){p=a8.fonts[n];break}}}}var m;if(p){for(var f=0,a=p[av];f<a;f++){m=p[f];if(m.face["font-weight"]==t&&(m.face["font-style"]==s||!m.face["font-style"])&&m.face["font-stretch"]==r){break}}}return m};aQ.print=function(L,K,J,I,H,G,F){G=G||"middle";F=ao(dp(F||0,1),-1);var E=this.set(),D=aF(J)[aD](aJ),C=0,B=aJ,A;a8.is(I,J)&&(I=this.getFont(I));if(I){A=(H||16)/I.face["units-per-em"];var z=I.face.bbox.split(a6),w=+z[0],s=+z[1]+(G=="baseline"?z[3]-z[1]+ +I.face.descent:(z[3]-z[1])/2);for(var r=0,p=D[av];r<p;r++){var b=r&&I.glyphs[D[r-1]]||{},a=I.glyphs[D[r]];C+=r?(b.w||I.w)+(b.k&&b.k[D[r]]||0)+I.w*F:0;a&&a.d&&E[c5](this.path(a.d).attr({fill:"#000",stroke:"none",translation:[C,0]}))}E.scale(A,A,w,s).translate(L-w,K-s)}return E};a8.format=function(a,f){var d=a8.is(f,dc)?[0][aN](f):arguments;a&&a8.is(a,de)&&d[av]-1&&(a=a[b9](a2,function(e,c){return d[++c]==null?aJ:d[c]}));return a||aJ};a8.ninja=function(){aS.was?aU.Raphael=aS.is:delete Raphael;return a8};a8.el=dt;a8.st=cV[a0];aS.was?aU.Raphael=a8:Raphael=a8})();function tryParseTimePointDate(e){if(e==""){return null}var d=0;var f=-1;var b=-1;var a=getEraInfo(e);e=stripEraInfo(e);if(!isNaN(e)&&areAllCharsDigits(e)){d=parseInt(e);if(d==0){return null}if(a=="bce"){d*=-1}}else{if(a=="bce"){return null}if(!containsFourDigitString(e)){return null}var c=Date.parse(e);if(c==null){return null}d=c.getFullYear();f=c.getMonth()+1;if(countSeparators(e)==2){b=c.getDate()}}return getTimePointDate(d,f,b)}function stripEraInfo(a){a=a.replace(/(\s+CE|BCE|AD|BC)/gi,"");a=a.replace(/(CE|BCE|AD|BC)\s+/gi,"");a=a.replace(/(\s+C\.E\.|B\.C\.E\.|A\.D\.|B\.C\.)/gi,"");a=a.replace(/(C\.E\.|B\.C\.E\.|A\.D\.|B\.C\.)\s+/gi,"");return a.trim()}function getTimePointDate(c,f,a){var e="year";if(f!=-1){e="month"}if(a!=-1){e="day"}var d=getDateString(c,f,a,e);var b={year:c,month:f,day:a,accuracy:e,dateString:d};return b}function getExplicitEraInfo(a){a=a.toLowerCase();a.replace(/\./g,"");if(a.indexOf(" bce")!=-1||a.indexOf(" bc")!=-1||a.indexOf(" b.c.e.")!=-1||a.indexOf(" b.c.")!=-1){return"bce"}if(a.indexOf(" ce")!=-1||a.indexOf(" ad")!=-1||a.indexOf(" c.e.")!=-1||a.indexOf(" a.d.")!=-1){return"ce"}return null}function getDateString(e,g,b,f){var c=["January","February","March","April","May","June","July","August","September","October","November","December"];var d="";switch(f){case"year":var a="CE";if(e<0){e*=-1;a="BCE"}d+=e;if(e<1000||a=="BCE"){d+=" "+a}break;case"month":d+=c[g-1]+" "+e;break;case"day":d+=c[g-1]+" "+b+" "+e;break}return d}function containsFourDigitString(b){var a=new RegExp("[0-9]{4}");return a.test(b)}function countSeparators(a){a=a.replace(/[\.,\/\-]+/g," ");a=a.replace(/\s+/g," ");if(a[0]==" "){a=a.substring(1)}a=a.replace(/\|/g," ");a=a.trim();return(a.length-a.replace(/ /g,"").length)}function areAllCharsDigits(a){return new RegExp("^[0-9]*$").test(a)}function areTimePointDatesEqual(b,a){return b.year==a.year&&b.month==a.month&&b.day==a.day}function getEraInfo(a){if(getExplicitEraInfo(a)=="bce"){return"bce"}return"ce"};