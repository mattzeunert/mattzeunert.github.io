---
layout: post
title: Aardwolf - source-level remote Javascript debugging
date: 2013-02-13
comments: false
legacy: true
---

<h1>{{ page.title }}</h1>
<div class='post'>
Aardwolf is a Javascript debugger that can be used to step through code on a mobile device.<br /><br />This post explains how to run it on a server and access the debugging UI.<br /><h3>Installing Aardwolf</h3>First use ssh to login to your server. The <a href="https://github.com/lexandera/Aardwolf">Aardwolf page on Github</a> describes the installation very well:<br /><blockquote class="tr_bq">1) Begin by installing node.js and Git<br />2) Get the Aardwolf source code from GitHub: git clone git://github.com/lexandera/Aardwolf.git<br />3) Download the required libraries by running "npm link" in the checked-out directory</blockquote>Installing node.js and git will vary by the package manager of your linux distribution. With Aptitude use these apt-get commands:<br /><br /><code>sudo apt-get install npm<br />sudo apt-get install git</code><br /><code><br /></code>After running the git clone command you will have an Aardwolf folder in your working directory.<br /><h3>Preparing your code</h3>Aardwolf will serve the code of your mobile app from the server. Before sending the files to the client it modifies them to enable step-by-step debugging.<br /><br />You can use, for example,FTP to upload the code. I used a public file on Dropbox:<br /><br /><code>wget https://dl.dropbox.com/u/12345/code.zip<br />unzip code.zip</code><br /><br />You will need to make one modification to the html file that contains your app. It needs to load some Javascript code that will be served at /aardwolf.js:<br /><pre class="brush:html">&lt;script src="/aardwolf.js"&gt;&lt;/script&gt;</pre>Make sure to include this file before all other Javascript code that is loaded from the server. The code as modified by Aardwolf will depend on an Aardwolf object.<br /><h3>Launching the remote debugger</h3><div>Open the app.js file in the Aardwolf folder with node.js, passing the IP address of the server as the -h parameter and the directory containing the code of the mobile app as -d.</div><div><br /></div><div><div><code>node app.js -h 12.34.567.89 / -d /home/whatever/code</code></div></div><div><br /></div><div>Open 12.34.567.89:8000 in your browser to see the debugger UI.</div><div><br /></div><div>You can open the app instance itself on your phone. Assuming the html file that you added the /aardwolf.js file to is called index.html open this URL in the browser:&nbsp;12.34.567.89:8500/index.html</div><div><br /></div><div>Try entering <code>alert('test')</code> in the Console box and click eval to see if it's working. (You should also see a "Mobile device connected." message).<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-JAJBQD_JM34/URwPGkFJHfI/AAAAAAAAAGM/Z-XpKY0cshg/s1600/Screen+Shot+2013-02-13+at+21.40.50.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="315" src="http://2.bp.blogspot.com/-JAJBQD_JM34/URwPGkFJHfI/AAAAAAAAAGM/Z-XpKY0cshg/s400/Screen+Shot+2013-02-13+at+21.40.50.png" width="400" /></a></div><br /></div><h3>Problems I ran into</h3><div><h4><span style="font-weight: normal;"><u>XMLHttpRequest Exception</u></span></h4>Sometimes I got this error message in the mobile browser:</div><blockquote class="tr_bq">Aardwolf encountered an error while sending data: Error: NETWORK_ERR: XMLHttpRequest Exception 101</blockquote>The cause was a wrong IP address entered as the -h parameter to the application.<br /><br /><u>Getting no response from the mobile device</u><br /><u><br /></u>The mobile device would go to sleep for a short time and somehow the connection would be lost. After reloading the page in the mobile browser it started working again.<br /><br /></div>
<h2>Comments</h2>
<div class='comments'>
</div>
